System.register("chunks:///_virtual/apiAuth.ts",["cc","./utils.ts"],(function(t){"use strict";var e,n;return{setters:[function(t){e=t.cclegacy},function(t){n=t.axios}],execute:function(){t({loginByEmail:function(t){return n({url:"/api/prayAppAccount/loginByEmail",method:"post",data:t})},loginByWeb3:function(t){return n({url:"/api/prayAppAccount/loginByWeb3",method:"post",data:t})},nonce:function(t){return n({url:"/api/prayAppAccount/nonce",method:"get",params:t})},registerByEmail:function(t){return n({url:"/api/prayAppAccount/registerByEmail",method:"post",data:t})},resetPassword:function(t){return n({url:"/api/prayAppAccount/resetPassword",method:"post",data:t})},sendEmailVerificationCode:function(t){return n({url:"/api/prayAppAccount/sendEmailVerificationCode",method:"post",data:t})},sendPasswordResetCode:function(t){return n({url:"/api/prayAppAccount/sendPasswordResetCode",method:"post",data:t})}}),e._RF.push({},"e9acfp9qlFHoJ2OemLxatjp","apiAuth",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/apiGoods.ts",["cc","./utils.ts"],(function(t){"use strict";var i,o;return{setters:[function(t){i=t.cclegacy},function(t){o=t.axios}],execute:function(){t({apiBuyGoods:function(t){return o({url:"/api/shop/buy",method:"post",params:t})},apiGetBackpack:function(){return o({url:"/api/backpack/my-backpack-info",method:"get"})},apiGetEikonsOnTable:function(t){return o({url:"/api/user-scene/inlaid-eikons/"+t,method:"post"})},apiGetGoodsList:function(){return o({url:"/api/shop/goods-list",method:"get"})},apiInlaidEikon:function(t){return o({url:"/api/backpack/inlaid-eikon",method:"post",params:t})},apiUnloadEikon:function(t){return o({url:"/api/backpack/unload-eikon/"+t,method:"post"})},apiUseScythe:function(t){return o({url:"/api/backpack/use-scyth",method:"post",params:t})},apiUseWorship:function(t){return o({url:"/api/backpack/use-worship",method:"post",params:t})}}),i._RF.push({},"304f0uTF4NOJZDWzArTPm+i","apiGoods",void 0),i._RF.pop()}}}));

System.register("chunks:///_virtual/apiGoods2.ts",["cc","./utils.ts"],(function(p){"use strict";var t,a;return{setters:[function(p){t=p.cclegacy},function(p){a=p.axios}],execute:function(){p({apiGetBackpack_Pub:function(){return a({url:"/api/prayAppPubSrv/backpack/my-backpack",method:"get"})},apiUseScythe_Pub:function(p){return a({url:"/api/prayAppPubSrv/backpack/use-scythe",method:"post",params:p})},apiUseWorship_Pub:function(p){return a({url:"/api/prayAppPubSrv/backpack/use-worship",method:"post",params:p})}}),t._RF.push({},"df06f9T67VPKYPsbbRT0jLB","apiGoods",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/apiMsg.ts",["cc","./utils.ts"],(function(e){"use strict";var s,t;return{setters:[function(e){s=e.cclegacy},function(e){t=e.axios}],execute:function(){e({apiDeleteMessage:function(e){return t({url:"/api/messages/"+e,method:"delete"})},apiGetMessageList:function(e){return t({url:"/api/messages/list-by-userSceneId/"+e,method:"get"})},apiSendMessage:function(e){return t({url:"/api/messages/leave-to-message",method:"post",data:e})}}),s._RF.push({},"0cd34P6BZZGopTqyH10Q7/C","apiMsg",void 0),s._RF.pop()}}}));

System.register("chunks:///_virtual/apiProfile.ts",["cc","./utils.ts"],(function(t){"use strict";var i,e;return{setters:[function(t){i=t.cclegacy},function(t){e=t.axios}],execute:function(){t({apiGetIpfsAudio:function(t){return e({url:"/api/ipfs/audio_by_sceneId/"+t,method:"get"})},apiGetIpfsPhotoList:function(t){return e({url:"/api/ipfs/imgs_by_sceneId/"+t,method:"get"})},apiGetMintLogs:function(t){return e({url:"/api/web3/mint-logs",method:"get",params:t})},apiMint:function(t){return e({url:"/api/web3/mint",method:"post",params:t})},apiSyncMintReceipt:function(t){return e({url:"/api/web3/sync-mint-receipt",method:"post",params:t})},apiSyncNftProp:function(t){return e({url:"/api/web3/sync-nft-prop",method:"post",params:t})},apiUploadAudio:function(t,i,o){return e({url:"/api/ipfs/upload_audio_to_ipfs/"+t,method:"post",headers:{"Content-Type":"multipart/form-data"},timeout:2e4,params:i,data:o})},apiUploadPhoto:function(t,i,o){return e({url:"/api/ipfs/upload_img_to_ipfs/"+t,method:"post",headers:{"Content-Type":"multipart/form-data"},params:i,data:o})}}),i._RF.push({},"bc56b+884dCuKtQrV1Uxdhz","apiProfile",void 0),i._RF.pop()}}}));

System.register("chunks:///_virtual/apiScene.ts",["cc","./utils.ts"],(function(e){"use strict";var t,n;return{setters:[function(e){t=e.cclegacy},function(e){n=e.axios}],execute:function(){e({apiCollectGold:function(e){return n({url:"/api/user-scene/collect_gold/"+e,method:"post"})},apiCreateScene:function(e){return n({url:"/api/user-scene",method:"post",data:e})},apiGeSceneConfiguration:function(){return n({url:"/api/app/scene/configuration",method:"get"})},apiGetCirrusProgress:function(e){return n({url:"/api/user-scene/load-cirrus-progress/"+e,method:"post"})},apiGetGoldProgress:function(e){return n({url:"/api/user-scene/load-gold-progress/"+e,method:"post"})},apiGetMintSceneInfo:function(e){return n({url:"/api/prayAppPubSrv/userScene/minted_sceneInfo/"+e,method:"get"})},apiGetMyScenes:function(){return n({url:"/api/user-scene/by-user",method:"get"})},apiGetScene:function(e){return n({url:"/api/user-scene/"+e,method:"get"})},apiPutScene:function(e){return n({url:"/api/user-scene/"+e.id,method:"put",data:e})},apiUserAccount:function(){return n({url:"/api/userAccount/my-account-info",method:"get"})}}),t._RF.push({},"bdfdeIh9npIkq85vHWi3ii+","apiScene",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/apiScene2.ts",["cc","./utils.ts"],(function(e){"use strict";var r,u;return{setters:[function(e){r=e.cclegacy},function(e){u=e.axios}],execute:function(){e({apiGetAudio_Pub:function(e){return u({url:"/api/prayAppPubSrv/userScene/audio-record/"+e,method:"get"})},apiGetCirrusProgress_Pub:function(e){return u({url:"/api/prayAppPubSrv/userScene/cirrus-progress/"+e,method:"get"})},apiGetEikonsOnTable_Pub:function(e){return u({url:"/api/prayAppPubSrv/userScene/inlaid-eikons/"+e,method:"get"})},apiGetPhotoList_Pub:function(e){return u({url:"/api/prayAppPubSrv/userScene/image-secords/"+e,method:"get"})},apiGetPubSceneInfo:function(e){return u({url:"/api/prayAppPubSrv/userScene/"+e,method:"get"})},apiGetPubSceneList:function(e){return u({url:"/api/prayAppPubSrv/userScene/random-userScenes",method:"get",params:e})},apiGetPubScenesByUser:function(e){return u({url:"/api/prayAppPubSrv/userScene/scenes-by-identity",method:"get",params:e})}}),r._RF.push({},"a8abachMANPwYHFmkOJzrxY","apiScene",void 0),r._RF.pop()}}}));

System.register("chunks:///_virtual/AudioController.ts",["cc","./rollupPluginModLoBabelHelpers.js"],(function(t){"use strict";var e,o,i,n,r,u,a,c,l,s;return{setters:[function(t){e=t.cclegacy,o=t._decorator,i=t.AudioSource,n=t.Node,r=t.assetManager,u=t.Component},function(t){a=t.applyDecoratedDescriptor,c=t.inheritsLoose,l=t.initializerDefineProperty,s=t.assertThisInitialized}],execute:function(){var p,d,f,h,y,v,S,_,A;e._RF.push({},"3d98ai8H+tEAb6bwmQaTzAV","AudioController",void 0);var b=o.ccclass,B=o.property;t("AudioController",(p=b("AudioController"),d=B(i),f=B(n),h=B(n),p((S=a((v=function(t){function e(){for(var e,o=arguments.length,i=new Array(o),n=0;n<o;n++)i[n]=arguments[n];return e=t.call.apply(t,[this].concat(i))||this,l(e,"_audioSource",S,s(e)),l(e,"playBtn",_,s(e)),l(e,"pauseBtn",A,s(e)),e}c(e,t);var o=e.prototype;return o.onLoad=function(){this._audioSource=this.node.getComponent(i)},o.start=function(){this._audioSource.node.on(i.EventType.STARTED,this.onAudioStarted,this),this._audioSource.node.on(i.EventType.ENDED,this.onAudioEnded,this)},o.initAudio=function(t){var e=this,o=t.attributes.find((function(t){return"audio"===t.trait_type}));if(console.log(o),o&&o.value){var i=o.value.split(";");r.loadRemote(i[0],{ext:i[2]},(function(t,o){!t&&e._audioSource&&(console.log(o),e._audioSource.clip=o,e.playBtn.active=!0)}))}},o.onDestroy=function(){this._audioSource.stop()},o.onAudioStarted=function(){},o.onAudioEnded=function(){this.playBtn.active=!0,this.pauseBtn.active=!1},o.play=function(){this._audioSource.play(),this.playBtn.active=!1,this.pauseBtn.active=!0},o.pause=function(){this._audioSource.pause(),this.playBtn.active=!0,this.pauseBtn.active=!1},e}(u)).prototype,"_audioSource",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=a(v.prototype,"playBtn",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=a(v.prototype,"pauseBtn",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=v))||y));e._RF.pop()}}}));

System.register("chunks:///_virtual/BulletScreen.ts",["cc","./utils.ts","./apiMsg.ts","./rollupPluginModLoBabelHelpers.js","./GameRoot.ts","./RootControl.ts","./FriendRootControl.ts"],(function(e){"use strict";var t,n,s,o,i,a,r,l,g,c,m,u,p,d,f,h,L,C,v;return{setters:[function(e){t=e.cclegacy,n=e._decorator,s=e.Node,o=e.find,i=e.Tween,a=e.Label,r=e.Vec3,l=e.tween,g=e.Component},function(e){c=e.formatAddress},function(e){m=e.apiGetMessageList,u=e.apiDeleteMessage},function(e){p=e.applyDecoratedDescriptor,d=e.inheritsLoose,f=e.initializerDefineProperty,h=e.assertThisInitialized},function(e){L=e.GameRoot},function(e){C=e.RootControl},function(e){v=e.FriendRootControl}],execute:function(){var R,w,I,y,B,M,b;t._RF.push({},"4f89efKoZJJhLn9dmGjFncL","BulletScreen",void 0);var G=n.ccclass,T=n.property;e("BulletScreen",(R=G("BulletScreen"),w=T(s),I=T(s),R((M=p((B=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return t=e.call.apply(e,[this].concat(s))||this,f(t,"message",M,h(t)),f(t,"deleteBtn",b,h(t)),t.msgList=[],t.messageId="",t.sceneId="",t}d(t,e);var n=t.prototype;return n.start=function(){var e,t;this.sceneId=(null==(e=o("MainCanvas").getComponent(C))?void 0:e.sceneInfo.id)||(null==(t=o("MainCanvas").getComponent(v))?void 0:t.sceneInfo.id),this.getMsgList()},n.getMsgList=function(){var e=this;m(this.sceneId).then((function(t){e.msgList=t.items,i.stopAllByTarget(e.message),e.msgList.length>0?(e.deleteBtn&&(e.deleteBtn.active=!0),e.startRoll()):(e.deleteBtn&&(e.deleteBtn.active=!1),e.message.getComponent(a).string="")}))},n.startRoll=function(){var e=this,t=0;this.message.getComponent(a).string=c(this.msgList[0].fromUserInfo.publicAddress)+": "+this.msgList[0].content+" ("+this.msgList[t].creationTime.split("T")[0]+")",this.messageId=this.msgList[0].id,this.message.setPosition(new r(0,-120,0)),l(this.message).to(5,{position:new r(0,120,0)},{easing:"quintOutIn",onComplete:function(){(t+=1)===e.msgList.length&&(t=0),e.message.setPosition(new r(0,-120,0)),e.message.getComponent(a).string=c(e.msgList[t].fromUserInfo.publicAddress)+": "+e.msgList[t].content+" ("+e.msgList[t].creationTime.split("T")[0]+")",e.messageId=e.msgList[t].id}}).repeat(999).start()},n.onClickMsg=function(){var e=this;if(this.msgList.length>0){var t=this.messageId;o("GameRoot").getComponent(L).showPopup({title:"Delete Message",content:'Do you want to delete this message:"'+this.message.getComponent(a).string+'"?',onConfirm:function(){o("GameRoot").getComponent(L).showLoading(),u(t).then((function(){o("GameRoot").getComponent(L).hideLoading(),o("GameRoot").getComponent(L).showToast("delete success"),e.getMsgList()})).catch((function(e){o("GameRoot").getComponent(L).showToast("delete fail"),o("GameRoot").getComponent(L).hideLoading()}))}})}},t}(g)).prototype,"message",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=p(B.prototype,"deleteBtn",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=B))||y));t._RF.pop()}}}));

System.register("chunks:///_virtual/Cirrus.ts",["cc","./apiGoods.ts","./apiGoods2.ts","./rollupPluginModLoBabelHelpers.js","./ToolSickle.ts","./RootControl.ts","./FriendRootControl.ts"],(function(t){"use strict";var e,n,i,o,c,s,a,r,l,u,h,d,C,p,g,f,m,y,k,v,N;return{setters:[function(t){e=t.cclegacy,n=t._decorator,i=t.Node,o=t.find,c=t.Vec3,s=t.Animation,a=t.tween,r=t.UIOpacity,l=t.Toggle,u=t.Component,h=t.Button},function(t){d=t.apiUseScythe},function(t){C=t.apiUseScythe_Pub},function(t){p=t.applyDecoratedDescriptor,g=t.inheritsLoose,f=t.initializerDefineProperty,m=t.assertThisInitialized,y=t.createClass},function(t){k=t.ToolSickle},function(t){v=t.RootControl},function(t){N=t.FriendRootControl}],execute:function(){var S,b,I,B,M,U,w;e._RF.push({},"2bd71usE+NB2qYr5LXwrucf","Cirrus",void 0);var T=n.ccclass,_=n.property;t("Cirrus",(S=T("Cirrus"),b=_(i),I=_(i),S((U=p((M=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i))||this,f(e,"toolContent",U,m(e)),f(e,"ToolSwitchBtns",w,m(e)),e.count=0,e.canCut=!1,e.sickleId="",e.sickleNode=null,e}g(e,t);var n=e.prototype;return n.init=function(t){t>0&&(this.node.getChildByName("cirrus-"+t).active=!0)},n.start=function(){var t=this,e=this.node.getChildByName("sickle");o("MainCanvas").on(i.EventType.MOUSE_MOVE,(function(t){var n=new c(t.getUILocation().x,t.getUILocation().y);e.setWorldPosition(n)})),this.node.on(i.EventType.MOUSE_DOWN,(function(n){n.propagationStopped=!0,t.canCut&&e.getComponent(s).play()}))},n.update=function(){var t=this.node.getChildByName("cirrus-1"),e=this.node.getChildByName("cirrus-2"),n=this.node.getChildByName("cirrus-3"),i=this.node.getChildByName("cirrus-4");t.setScale(1,1+.01*Math.sin(this.count)),e.setScale(1,1+.01*Math.sin(this.count)),n.setScale(1,1+.01*Math.sin(this.count)),i.setScale(1,1+.01*Math.sin(this.count)),this.count+=.02},n.cut=function(t,e){var n=this;this.canCut&&(o("MainCanvas").getComponent(v)?d({UserSceneId:o("MainCanvas").getComponent(v).sceneInfo.id,UserItemId:this.sickleId}).then((function(){n.callback(e)})):C({UserSceneId:o("MainCanvas").getComponent(N).sceneInfo.id,UserItemId:this.sickleId}).then((function(){n.callback(e)})))},n.callback=function(t){var e=this;this.canCut=!1;var n=this.node.getChildByName("cirrus-"+(+t-1)),i=this.node.getChildByName("cirrus-"+ +t);a(i.getComponent(r)).to(1,{opacity:0}).call((function(){i.active=!1,e.canCut=!0,e.sickleNode.getComponent(k).use(),"1"===t&&e.sickleNode&&(e.sickleNode.getComponent(l).isChecked=!1)})).start(),n&&(n.getComponent(r).opacity=0,n.active=!0,a(n.getComponent(r)).to(1,{opacity:255}).start())},n.toggleCut=function(t,e){var n=this.node.getChildByName("sickle");this.sickleId=t.isChecked?e:"",this.sickleNode=t.isChecked?t.target:null,n.active=t.isChecked,this._canCut=t.isChecked},y(e,[{key:"_canCut",set:function(t){this.canCut=t,this.ToolSwitchBtns.children.forEach((function(e){e.getComponent(h).interactable=!t})),this.toolContent.children.forEach((function(e){e.getComponent(h)?e.getComponent(h).interactable=!t:e.getComponent(l)&&(e.getComponent(l).interactable=!t)})),t&&(this.sickleNode.getComponent(l).interactable=!0)}}]),e}(u)).prototype,"toolContent",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=p(M.prototype,"ToolSwitchBtns",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=M))||B));e._RF.pop()}}}));

System.register("chunks:///_virtual/constant.ts",["cc"],(function(){"use strict";var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"1ee7e2lRcxBAYg8YvhgjTvh","constant",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/EnergyBall.ts",["cc","./utils.ts","./apiScene.ts","./rollupPluginModLoBabelHelpers.js"],(function(t){"use strict";var n,e,o,i,s,a,r,c,l,u,h,d;return{setters:[function(t){n=t.cclegacy,e=t._decorator,o=t.Label,i=t.UITransform,s=t.Node,a=t.game,r=t.tween,c=t.Vec3,l=t.Component},function(t){u=t.eventTarget},function(t){h=t.apiCollectGold},function(t){d=t.inheritsLoose}],execute:function(){var p;n._RF.push({},"dc9d6T5vzJOLIQaQHEVqXam","EnergyBall",void 0);var g=e.ccclass;e.property,t("EnergyBall",g("EnergyBall")(p=function(t){function n(){for(var n,e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return(n=t.call.apply(t,[this].concat(o))||this).count=Math.random(),n.ballInfo=null,n}d(n,t);var e=n.prototype;return e.init=function(t){this.ballInfo=t,this.node.getChildByName("Label").getComponent(o).string=t.progressValue},e.start=function(){this.node.setPosition(Math.random()*this.node.getParent().getComponent(i).width,Math.random()*this.node.getParent().getComponent(i).height),this.node.on(s.EventType.MOUSE_ENTER,(function(t){a.canvas.style.cursor="pointer"})),this.node.on(s.EventType.MOUSE_LEAVE,(function(t){a.canvas.style.cursor="auto"}))},e.update=function(){this.node.setPosition(this.node.getPosition().x,this.node.getPosition().y+.3*Math.sin(this.count)),this.count+=.05},e.onPick=function(t){var n=this;h(this.ballInfo.id).then((function(t){r(n.node).to(.6,{position:new c(1050,400),scale:new c(.39,.39)},{onComplete:function(){u.emit("updateEnergyValue",t),n.node.destroy()}}).start()}))},n}(l))||p);n._RF.pop()}}}));

System.register("chunks:///_virtual/EnergyBallsGroup.ts",["cc","./rollupPluginModLoBabelHelpers.js","./EnergyBall.ts"],(function(r){"use strict";var t,n,e,i,o,a,l,c,s,u;return{setters:[function(r){t=r.cclegacy,n=r._decorator,e=r.Prefab,i=r.instantiate,o=r.Component},function(r){a=r.applyDecoratedDescriptor,l=r.inheritsLoose,c=r.initializerDefineProperty,s=r.assertThisInitialized},function(r){u=r.EnergyBall}],execute:function(){var p,f,y,b,g;t._RF.push({},"14ebbYnH71KxLv+wLUUjPEQ","EnergyBallsGroup",void 0);var h=n.ccclass,v=n.property;r("EnergyBallsGroup",(p=h("EnergyBallsGroup"),f=v({type:e}),p((g=a((b=function(r){function t(){for(var t,n=arguments.length,e=new Array(n),i=0;i<n;i++)e[i]=arguments[i];return t=r.call.apply(r,[this].concat(e))||this,c(t,"ballPrfb",g,s(t)),t}l(t,r);var n=t.prototype;return n.start=function(){},n.init=function(r){var t=this;r.forEach((function(r){var n=i(t.ballPrfb);t.node.addChild(n),n.getComponent(u).init(r)}))},t}(o)).prototype,"ballPrfb",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=b))||y));t._RF.pop()}}}));

System.register("chunks:///_virtual/EnergyPane.ts",["cc","./utils.ts","./rollupPluginModLoBabelHelpers.js","./RootControl.ts","./FriendRootControl.ts"],(function(n){"use strict";var e,t,r,o,i,a,l,u,s,c,g,p;return{setters:[function(n){e=n.cclegacy,t=n._decorator,r=n.Label,o=n.find,i=n.Component},function(n){a=n.eventTarget},function(n){l=n.applyDecoratedDescriptor,u=n.inheritsLoose,s=n.initializerDefineProperty,c=n.assertThisInitialized},function(n){g=n.RootControl},function(n){p=n.FriendRootControl}],execute:function(){var y,f,d,h,v;e._RF.push({},"a1e79H7icFIUp0tyfwzzAs6","EnergyPane",void 0);var C=t.ccclass,E=t.property;n("EnergyPane",(y=C("EnergyPane"),f=E({type:r}),y((v=l((h=function(n){function e(){for(var e,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return e=n.call.apply(n,[this].concat(r))||this,s(e,"energyValue",v,c(e)),e}u(e,n);var t=e.prototype;return t.start=function(){var n,e;this.energyValue.string=(null==(n=o("MainCanvas").getComponent(g))?void 0:n.energyCoinCount.toString())||(null==(e=o("MainCanvas").getComponent(p))?void 0:e.energyCoinCount.toString()),a.on("updateEnergyValue",this.handleUpdateEnergy,this)},t.handleUpdateEnergy=function(n){this.energyValue.string=String(n)},e}(i)).prototype,"energyValue",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=h))||d));e._RF.pop()}}}));

System.register("chunks:///_virtual/FindFriends.ts",["cc","./utils.ts","./apiScene2.ts","./rollupPluginModLoBabelHelpers.js","./FriendRootControl.ts","./FriendSceneItem.ts"],(function(e){"use strict";var n,t,i,r,o,c,a,s,l,u,d,f,h,p,g,v,S,y,b,m;return{setters:[function(e){n=e.cclegacy,t=e._decorator,i=e.Node,r=e.ScrollView,o=e.EditBox,c=e.Prefab,a=e.game,s=e.director,l=e.find,u=e.instantiate,d=e.Component},function(e){f=e.eventTarget},function(e){h=e.apiGetPubScenesByUser,p=e.apiGetPubSceneList},function(e){g=e.applyDecoratedDescriptor,v=e.inheritsLoose,S=e.initializerDefineProperty,y=e.assertThisInitialized},function(e){b=e.FriendRootControl},function(e){m=e.FriendSceneItem}],execute:function(){var F,E,C,w,V,z,L,M,P,I,R,B,_,x,T,A,D;n._RF.push({},"134d4hvnyRHQoP79edvVPmZ","FindFriends",void 0);var N=t.ccclass,U=t.property;e("FindFriends",(F=N("FindFriends"),E=U(i),C=U(r),w=U(i),V=U(o),z=U(i),L=U(i),M=U({type:c}),F((R=g((I=function(e){function n(){for(var n,t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return n=e.call.apply(e,[this].concat(i))||this,S(n,"searchBtn",R,y(n)),S(n,"scrollView",B,y(n)),S(n,"content",_,y(n)),S(n,"editbox",x,y(n)),S(n,"loading",T,y(n)),S(n,"empty",A,y(n)),S(n,"friendSceneItem",D,y(n)),n.inputValue="",n.friendScenes=[],n.isSearchMode=!1,n}v(n,e);var t=n.prototype;return t.onLoad=function(){a.canvas.style.cursor="auto",a.addPersistRootNode(this.node),s.preloadScene("friendScene")},t.start=function(){this.addEvent(),this.getFriendsSceneList()},t.addEvent=function(){var e=this;[this.searchBtn].forEach((function(e){e.on(i.EventType.MOUSE_ENTER,(function(){a.canvas.style.cursor="pointer"})),e.on(i.EventType.MOUSE_LEAVE,(function(){a.canvas.style.cursor="auto"}))})),this.editbox.node.on("editing-did-ended",(function(n){e.inputValue=n.string}),this),this.scrollView.node.on("bounce-right",this.getFriendsSceneList,this),f.on("changeFriendScene",(function(n){e.loading.active=!0,s.loadScene("friendScene",(function(){l("FriendsCanvas").active=!1,e.loading.active=!1,l("MainCanvas").getComponent(b).init(n)}))}))},t.onClickSearch=function(){var e=this;this.inputValue.trim()?(this.isSearchMode=!0,this.loading.active=!0,h({identity:this.inputValue.trim()}).then((function(n){e.loading.active=!1,e.content.destroyAllChildren(),n.length>0?(e.friendScenes=n,e.friendScenes.forEach((function(n){var t=u(e.friendSceneItem);t.getComponent(m).init(n),e.content.addChild(t)}))):e.empty.active=!0}))):(this.empty.active=!1,this.isSearchMode=!1,this.content.destroyAllChildren(),this.getFriendsSceneList())},t.getFriendsSceneList=function(){var e=this;this.isSearchMode||(this.loading.active=!0,p({count:20}).then((function(n){e.loading.active=!1,n.length>0&&(e.friendScenes=n,e.friendScenes.forEach((function(n){var t=u(e.friendSceneItem);t.getComponent(m).init(n),e.content.addChild(t)})))})))},n}(d)).prototype,"searchBtn",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=g(I.prototype,"scrollView",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=g(I.prototype,"content",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=g(I.prototype,"editbox",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=g(I.prototype,"loading",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=g(I.prototype,"empty",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=g(I.prototype,"friendSceneItem",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=I))||P));n._RF.pop()}}}));

System.register("chunks:///_virtual/ForgetPwdControl.ts",["cc","./apiAuth.ts","./rollupPluginModLoBabelHelpers.js","./VerifyCode.ts","./Login.ts"],(function(e){"use strict";var t,n,o,a,s,i,r,l,c,p,g,d,u,C,f;return{setters:[function(e){t=e.cclegacy,n=e._decorator,o=e.Prefab,a=e.find,s=e.EditBox,i=e.instantiate,r=e.Component},function(e){l=e.sendPasswordResetCode,c=e.resetPassword},function(e){p=e.applyDecoratedDescriptor,g=e.inheritsLoose,d=e.initializerDefineProperty,u=e.assertThisInitialized},function(e){C=e.default},function(e){f=e.Login}],execute:function(){var h,m,v,w,y,b,P;t._RF.push({},"d8890j6369NxZbI7jhqKswT","ForgetPwdControl",void 0);var x=n.ccclass,B=n.property;e("ForgetdlgControl",(h=x("ForgetdlgControl"),m=B({type:o}),v=B({type:o}),h((b=p((y=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,d(t,"forgetdlg",b,u(t)),d(t,"resetpwd",P,u(t)),t}g(t,e);var n=t.prototype;return n.start=function(){},n.update=function(e){},n.clickCancle=function(){a("Canvas").removeChild(this.node)},n.clicksendResetCode=function(){var e=this,t=a("Canvas/forgetdlg/base/VerifyCodeBox/VerifyCodeInput"),n=a("Canvas/forgetdlg/base/VerifyCodeBox/ShowVer"),o=t.getComponent(s).string,r=a("Canvas/forgetdlg/base/EmailBox/EmailInput").getComponent(s).string;0==r.trim().length?a("Canvas").getComponent(f).showToast("Please input email!"):n.getComponent(C).checkCode(o,(function(n){n.flag?l({email:r}).then((function(t){a("Canvas").removeChild(e.node),a("Canvas").addChild(i(e.resetpwd))})).catch((function(e){a("Canvas").getComponent(f).showToast(e.message)})):(a("Canvas").getComponent(f).showToast(n.tips),t.getComponent(s).string="")}))},n.clickResetPwd=function(){var e=this,t=a("Canvas/resetpwd/base/EmailBox/input").getComponent(s).string,n=a("Canvas/resetpwd/base/CodeBox/input").getComponent(s).string,o=a("Canvas/resetpwd/base/PwdBox/input").getComponent(s).string;0==t.trim().length||0==n.trim().length||0==o.trim().length?a("Canvas").getComponent(f).showToast("Incomplete input,please check!"):c({email:t,newPassword:o,resetCode:n}).then((function(t){a("Canvas").getComponent(f).showToast(t.Message),a("Canvas").removeChild(e.node)})).catch((function(e){a("Canvas").getComponent(f).showToast(e.message)}))},t}(r)).prototype,"forgetdlg",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=p(y.prototype,"resetpwd",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=y))||w));t._RF.pop()}}}));

System.register("chunks:///_virtual/FriendRootControl.ts",["cc","./utils.ts","./apiGoods2.ts","./apiScene2.ts","./apiScene.ts","./rollupPluginModLoBabelHelpers.js","./AudioController.ts","./ToolsControl.ts","./LeaveMsg.ts","./PhotoList.ts","./Cirrus.ts"],(function(n){"use strict";var t,e,o,i,r,a,u,l,c,s,f,p,g,h,d,y,b,v,m,C,S,w,M,B;return{setters:[function(n){t=n.cclegacy,e=n._decorator,o=n.Node,i=n.Prefab,r=n.Label,a=n.game,u=n.director,l=n.find,c=n.instantiate,s=n.Component},function(n){f=n.eventTarget},function(n){p=n.apiGetBackpack_Pub},function(n){g=n.apiGetCirrusProgress_Pub},function(n){h=n.apiUserAccount,d=n.apiGetMintSceneInfo},function(n){y=n.applyDecoratedDescriptor,b=n.inheritsLoose,v=n.initializerDefineProperty,m=n.assertThisInitialized},function(n){C=n.AudioController},function(n){S=n.ToolsControl},function(n){w=n.LeaveMsg},function(n){M=n.PhotoList},function(n){B=n.Cirrus}],execute:function(){var P,z,E,I,k,x,A,L,N,R,_,F,T,O,V,D,G,J,U,j,H,K,Z;t._RF.push({},"94b6f0Zv1xHzK7fMAjoou2+","FriendRootControl",void 0);var q=e.ccclass,Q=e.property;n("FriendRootControl",(P=q("FriendRootControl"),z=Q(o),E=Q(o),I=Q(o),k=Q(o),x=Q(o),A=Q(o),L=Q({type:i}),N=Q(o),R=Q(o),_=Q(r),P((O=y((T=function(n){function t(){for(var t,e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return t=n.call.apply(n,[this].concat(o))||this,v(t,"loginBtn",O,m(t)),v(t,"tables",V,m(t)),v(t,"photos",D,m(t)),v(t,"audioCtl",G,m(t)),v(t,"switchSceneBtn",J,m(t)),v(t,"cirrus",U,m(t)),v(t,"shopModal",j,m(t)),v(t,"toolsBox",H,m(t)),v(t,"leaveMsgBox",K,m(t)),v(t,"sceneName",Z,m(t)),t.sceneInfo=null,t.energyCoinCount=0,t}b(t,n);var e=t.prototype;return e.start=function(){this.addEvent(),this.getMyAccount(),this.getMintSceneInfo(),this.setCirrusProgress(this.sceneInfo.id)},e.init=function(n){this.sceneInfo=n},e.addEvent=function(){var n=this;f.on("updateEnergyValue",(function(t){n.energyCoinCount=t}),this),[this.switchSceneBtn,this.loginBtn].forEach((function(n){n.on(o.EventType.MOUSE_ENTER,(function(n){a.canvas.style.cursor="pointer"})),n.on(o.EventType.MOUSE_LEAVE,(function(n){a.canvas.style.cursor="auto"}))}))},e.onDestroy=function(){f.off("updateEnergyValue")},e.goSwitchScene=function(){u.loadScene("friendsScene"),l("FriendsCanvas").active=!0},e.goLogin=function(){u.loadScene("login")},e.onShowShopModal=function(){var n=c(this.shopModal);this.node.addChild(n)},e.setCirrusProgress=function(n){var t=this;g(n).then((function(n){t.cirrus.getComponent(B).init(+n.progressValue)}))},e.getMyAccount=function(){var n=this;h().then((function(t){n.sceneInfo.userId!==t.userId?(f.emit("updateEnergyValue",t.allScore),n.leaveMsgBox.getComponent(w).userId=t.userId,n.getBackpack()):window.parent.location.href="https://www.praydao.xyz/rememberyou/missRoom"})).catch((function(t){n.loginBtn.active=!0,u.preloadScene("login")}))},e.getBackpack=function(){var n=this;p().then((function(t){t.items.filter((function(n){return"eikon"===n.type}));var e=t.items.filter((function(n){return"cast ticket"===n.type||"tool"===n.type}));e.length>0&&n.toolsBox.getComponent(S).init(e)}))},e.getMintSceneInfo=function(){var n=this;d(this.sceneInfo.id).then((function(t){t.nftProperty&&(console.log(JSON.parse(t.nftProperty)),n.sceneName.string=JSON.parse(t.nftProperty).name,n.photos.getComponent(M).initPhotos(JSON.parse(t.nftProperty)),n.audioCtl.getComponent(C).initAudio(JSON.parse(t.nftProperty)))}))},t}(s)).prototype,"loginBtn",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=y(T.prototype,"tables",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=y(T.prototype,"photos",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=y(T.prototype,"audioCtl",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=y(T.prototype,"switchSceneBtn",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=y(T.prototype,"cirrus",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=y(T.prototype,"shopModal",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=y(T.prototype,"toolsBox",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=y(T.prototype,"leaveMsgBox",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=y(T.prototype,"sceneName",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=T))||F));t._RF.pop()}}}));

System.register("chunks:///_virtual/FriendSceneItem.ts",["cc","./utils.ts","./rollupPluginModLoBabelHelpers.js"],(function(e){"use strict";var t,n,o,i,r,c,s,a,u,l,p,f,m,v,h,y,E;return{setters:[function(e){t=e.cclegacy,n=e._decorator,o=e.Node,i=e.Label,r=e.tween,c=e.UIOpacity,s=e.game,a=e.Texture2D,u=e.ImageAsset,l=e.SpriteFrame,p=e.Sprite,f=e.Component},function(e){m=e.eventTarget},function(e){v=e.applyDecoratedDescriptor,h=e.inheritsLoose,y=e.initializerDefineProperty,E=e.assertThisInitialized}],execute:function(){var d,g,b,I,S,T,U;t._RF.push({},"ff2c0xYgR1DRZVtHHAwlIKu","FriendSceneItem",void 0);var _=n.ccclass,w=n.property;e("FriendSceneItem",(d=_("FriendSceneItem"),g=w(o),b=w(i),d((T=v((S=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o))||this,y(t,"bottom",T,E(t)),y(t,"title",U,E(t)),t.sceneInfo=null,t}h(t,e);var n=t.prototype;return n.init=function(e){this.sceneInfo=e},n.start=function(){var e=this;if(this.node.on(o.EventType.MOUSE_ENTER,(function(){e.bottom.active=!0,r(e.bottom.getComponent(c)).to(.1,{opacity:255}).start()})),this.node.on(o.EventType.MOUSE_LEAVE,(function(){r(e.bottom.getComponent(c)).to(.1,{opacity:0}).call((function(){e.bottom.active=!1})).start()}),this),this.node.on(o.EventType.MOUSE_ENTER,(function(){s.canvas.style.cursor="pointer"})),this.node.on(o.EventType.MOUSE_DOWN,(function(){s.canvas.style.cursor="grabbing"})),this.node.on(o.EventType.MOUSE_UP,(function(){s.canvas.style.cursor="pointer"})),this.node.on(o.EventType.MOUSE_LEAVE,(function(){s.canvas.style.cursor="auto"})),this.sceneInfo.thumbnailUrl){var t=new Image;t.src=this.sceneInfo.thumbnailUrl;var n=new a;t.onload=function(){n.image=new u(t);var o=new l;o.texture=n,e.node.getComponent(p).spriteFrame=o}}this.title.string=this.sceneInfo.sceneName},n.onClickScene=function(){m.emit("changeFriendScene",this.sceneInfo),s.canvas.style.cursor="auto"},t}(f)).prototype,"bottom",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=v(S.prototype,"title",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=S))||I));t._RF.pop()}}}));

System.register("chunks:///_virtual/FriendTableItem.ts",["cc","./rollupPluginModLoBabelHelpers.js"],(function(e){"use strict";var t,i,n,r,o,a,l,s,u,c,p,g,m,b,f;return{setters:[function(e){t=e.cclegacy,i=e._decorator,n=e.Label,r=e.Node,o=e.tween,a=e.UIOpacity,l=e.Component,s=e.assetManager,u=e.Sprite,c=e.SpriteFrame},function(e){p=e.applyDecoratedDescriptor,g=e.inheritsLoose,m=e.initializerDefineProperty,b=e.assertThisInitialized,f=e.createClass}],execute:function(){var h,d,y,I,v,C,P,_,L,E,F;t._RF.push({},"fbb8eIlZqdLgranNQ4MwzjW","FriendTableItem",void 0);var M=i.ccclass,N=i.property;e("FriendTableItem",(h=M("FriendTableItem"),d=N(n),y=N(n),I=N(n),v=N(n),h((_=p((P=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,m(t,"lv",_,b(t)),m(t,"hp",L,b(t)),m(t,"mp",E,b(t)),m(t,"luck",F,b(t)),t._tableInfo={id:"",order:-1,img:"",extraProperties:null},t}return g(t,e),t.prototype.start=function(){var e=this;this.node.on(r.EventType.MOUSE_MOVE,(function(t){e._tableInfo.img&&(e.node.getChildByName("attribute").active=!0,o(e.node.getChildByName("attribute").getComponent(a)).to(.1,{opacity:255}).start())})),this.node.on(r.EventType.MOUSE_LEAVE,(function(t){e._tableInfo.img&&o(e.node.getChildByName("attribute").getComponent(a)).to(.1,{opacity:0}).call((function(){e.node.getChildByName("attribute").active=!1})).start()}),this,!0)},f(t,[{key:"tableInfo",get:function(){return this._tableInfo},set:function(e){var t=this;console.log(e),this._tableInfo=e,e.img?(s.loadRemote(e.img,{ext:".png"},(function(e,i){t.node.getChildByName("iconImg").getComponent(u).spriteFrame=c.createWithImage(i)})),this.hp.string="HP "+e.extraProperties.HP,this.mp.string="MP "+e.extraProperties.MP,this.luck.string="LUCK "+e.extraProperties.LUCK,this.lv.string="LV "+e.extraProperties.LEVEL):this.node.getChildByName("iconImg").getComponent(u).spriteFrame=null}}]),t}(l)).prototype,"lv",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=p(P.prototype,"hp",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=p(P.prototype,"mp",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=p(P.prototype,"luck",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=P))||C));t._RF.pop()}}}));

System.register("chunks:///_virtual/FriendTables.ts",["cc","./apiScene2.ts","./rollupPluginModLoBabelHelpers.js","./FriendRootControl.ts","./FriendTableItem.ts"],(function(e){"use strict";var n,t,r,o,i,a,c,s,u;return{setters:[function(e){n=e.cclegacy,t=e._decorator,r=e.find,o=e.Component},function(e){i=e.apiGetEikonsOnTable_Pub},function(e){a=e.inheritsLoose,c=e.asyncToGenerator},function(e){s=e.FriendRootControl},function(e){u=e.FriendTableItem}],execute:function(){var l;n._RF.push({},"cf08fCiANRPE4h5gvwPdVQo","FriendTables",void 0);var p=t.ccclass;t.property,e("FriendTables",p("FriendTables")(l=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(n=e.call.apply(e,[this].concat(r))||this).sceneId="",n}a(n,e);var t=n.prototype;return t.start=function(){this.sceneId=r("MainCanvas").getComponent(s).sceneInfo.id,this.getTableIcons()},t.getTableIcons=function(){var e=c(regeneratorRuntime.mark((function e(){var n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(this.sceneId).then((function(e){e.forEach((function(e){var t={id:e.id,order:e.extraProperties.location,img:e.icon,extraProperties:e.extraProperties};n.node.children[e.extraProperties.location].getComponent(u).tableInfo=t}))}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n}(o))||l);n._RF.pop()}}}));

System.register("chunks:///_virtual/GameRoot.ts",["cc","./utils.ts","./rollupPluginModLoBabelHelpers.js","./PopupBase.ts","./RootControl.ts"],(function(t){"use strict";var n,e,o,i,a,r,s,l,u,c,p,d,h,f,g,y,m,v;return{setters:[function(t){n=t.cclegacy,e=t._decorator,o=t.Prefab,i=t.game,a=t.instantiate,r=t.director,s=t.find,l=t.Label,u=t.tween,c=t.UIOpacity,p=t.Component},function(t){d=t.eventTarget},function(t){h=t.applyDecoratedDescriptor,f=t.inheritsLoose,g=t.initializerDefineProperty,y=t.assertThisInitialized},function(t){m=t.PopupBase},function(t){v=t.RootControl}],execute:function(){var b,C,w,L,R,_,P,z,B;n._RF.push({},"a9d2ac4Z2tDvYL4tsZVuHnO","GameRoot",void 0);var D=e.ccclass,G=e.property;t("GameRoot",(b=D("GameRoot"),C=G({type:o}),w=G({type:o}),L=G({type:o}),b((P=h((_=function(t){function n(){for(var n,e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,g(n,"popup",P,y(n)),g(n,"netinstable",z,y(n)),g(n,"toast",B,y(n)),n._loading=null,n}f(n,t);var e=n.prototype;return e.onLoad=function(){var t=this;i.addPersistRootNode(this.node),this._loading=a(this.netinstable),d.on("changeMainScene",(function(n){t.showLoading(),r.loadScene("scene",(function(){t.hideLoading(),s("MainCanvas").getComponent(v).init(n)}))}))},e.showPopup=function(t){if(!this.node.getChildByName("popup")){var n=a(this.popup);this.node.addChild(n),n.getComponent(m).show(t)}},e.showLoading=function(){this.node.addChild(this._loading)},e.hideLoading=function(){this.node.removeChild(this._loading)},e.showToast=function(t,n,e){void 0===n&&(n=2),void 0===e&&(e=this.node);var o=a(this.toast);o.getChildByName("text").getComponent(l).string=t,e.addChild(o),u(o.getComponent(c)).delay(n).to(.3,{opacity:0}).call((function(){o.destroy()})).start()},n}(p)).prototype,"popup",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=h(_.prototype,"netinstable",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=h(_.prototype,"toast",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=_))||R));n._RF.pop()}}}));

System.register("chunks:///_virtual/GoodsItem.ts",["cc","./utils.ts","./rollupPluginModLoBabelHelpers.js"],(function(e){"use strict";var t,r,i,n,o,a,l,s,c,u,p,f,g;return{setters:[function(e){t=e.cclegacy,r=e._decorator,i=e.Node,n=e.Label,o=e.resources,a=e.SpriteFrame,l=e.Sprite,s=e.Component},function(e){c=e.eventTarget},function(e){u=e.applyDecoratedDescriptor,p=e.inheritsLoose,f=e.initializerDefineProperty,g=e.assertThisInitialized}],execute:function(){var m,d,h,b,y,v,S,I,E,z,k,w,x;t._RF.push({},"d2476/tPfNL3a6r5xGRu1I3","GoodsItem",void 0);var G=r.ccclass,N=r.property;e("GoodsItem",(m=G("GoodsItem"),d=N(i),h=N(i),b=N(n),y=N(n),v=N(n),m((E=u((I=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return t=e.call.apply(e,[this].concat(i))||this,f(t,"icon",E,g(t)),f(t,"extra",z,g(t)),f(t,"price",k,g(t)),f(t,"goodsName",w,g(t)),f(t,"remark",x,g(t)),t.goodsInfo=null,t}p(t,e);var r=t.prototype;return r.start=function(){var e=this;this.node.on(i.EventType.MOUSE_ENTER,(function(){e.extra.active=!0})),this.node.on(i.EventType.MOUSE_LEAVE,(function(){e.extra.active=!1}))},r.init=function(e){var t=this;this.goodsInfo=e,this.price.string=String(e.price),this.goodsName.string=String(e.name),this.remark.string=String(e.remark),o.load("images/goods/"+e.icon+"/spriteFrame",a,(function(e,r){e||(t.icon.getComponent(l).spriteFrame=r)}))},r.toggleSelect=function(e){c.emit("selectShopGoods",e.isChecked?this.goodsInfo:null)},t}(s)).prototype,"icon",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=u(I.prototype,"extra",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=u(I.prototype,"price",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=u(I.prototype,"goodsName",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=u(I.prototype,"remark",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=I))||S));t._RF.pop()}}}));

System.register("chunks:///_virtual/LeaveMsg.ts",["cc","./apiMsg.ts","./rollupPluginModLoBabelHelpers.js","./GameRoot.ts","./RootControl.ts","./FriendRootControl.ts","./BulletScreen.ts"],(function(e){"use strict";var t,n,o,i,s,r,a,c,u,l,d,p,g,f,h;return{setters:[function(e){t=e.cclegacy,n=e._decorator,o=e.Node,i=e.EditBox,s=e.find,r=e.Component},function(e){a=e.apiSendMessage},function(e){c=e.applyDecoratedDescriptor,u=e.inheritsLoose,l=e.initializerDefineProperty,d=e.assertThisInitialized},function(e){p=e.GameRoot},function(e){g=e.RootControl},function(e){f=e.FriendRootControl},function(e){h=e.BulletScreen}],execute:function(){var m,v,C,b,R,I,y;t._RF.push({},"4232c8AQqBKcIx6Zciq96Sh","LeaveMsg",void 0);var L=n.ccclass,M=n.property;e("LeaveMsg",(m=L("LeaveMsg"),v=M(o),C=M(i),m((I=c((R=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o))||this,l(t,"bulletScreen",I,d(t)),l(t,"editbox",y,d(t)),t.userId="",t.sceneId="",t.inputValue="",t}u(t,e);var n=t.prototype;return n.start=function(){var e,t,n=this;this.editbox.node.on("editing-did-ended",(function(e){n.inputValue=e.string}),this),this.sceneId=(null==(e=s("MainCanvas").getComponent(g))?void 0:e.sceneInfo.id)||(null==(t=s("MainCanvas").getComponent(f))?void 0:t.sceneInfo.id)},n.onClickSend=function(){var e=this;this.userId?this.inputValue.trim()&&(s("GameRoot").getComponent(p).showLoading(),a({fromUserId:this.userId,userSceneId:this.sceneId,content:this.inputValue.trim()}).then((function(){s("GameRoot").getComponent(p).hideLoading(),s("GameRoot").getComponent(p).showToast("send success"),e.editbox.getComponent(i).string="",e.bulletScreen.getComponent(h).getMsgList()})).catch((function(e){s("GameRoot").getComponent(p).showToast("send fail"),s("GameRoot").getComponent(p).hideLoading()}))):s("GameRoot").getComponent(p).showToast("Please leave a message after logging in")},t}(r)).prototype,"bulletScreen",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=c(R.prototype,"editbox",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=R))||b));t._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingIndicator.ts",["cc","./rollupPluginModLoBabelHelpers.js"],(function(t){"use strict";var i,o,e,n,r,a,l,c;return{setters:[function(t){i=t.cclegacy,o=t._decorator,e=t.Node,n=t.Component},function(t){r=t.applyDecoratedDescriptor,a=t.inheritsLoose,l=t.initializerDefineProperty,c=t.assertThisInitialized}],execute:function(){var s,u,d,p,g;i._RF.push({},"23a611Ukk9LTbCUMEGX6aHg","LoadingIndicator",void 0);var f=o.ccclass,h=o.property;t("default",(s=f("LoadingIndicator"),u=h(e),s((g=r((p=function(t){function i(){for(var i,o=arguments.length,e=new Array(o),n=0;n<o;n++)e[n]=arguments[n];return i=t.call.apply(t,[this].concat(e))||this,l(i,"loading",g,c(i)),i.loading_rotate=0,i}return a(i,t),i.prototype.update=function(t){this.loading_rotate+=220*t,this.loading.setRotationFromEuler(0,0,-this.loading_rotate%360),this.loading_rotate>360&&(this.loading_rotate-=360)},i}(n)).prototype,"loading",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=p))||d));i._RF.pop()}}}));

System.register("chunks:///_virtual/Login.ts",["cc","./apiAuth.ts","./apiScene.ts","./rollupPluginModLoBabelHelpers.js"],(function(e){"use strict";var t,n,i,o,s,a,r,c,l,g,u,d,h,p,f,m,w,S,v,I,L;return{setters:[function(e){t=e.cclegacy,n=e._decorator,i=e.Prefab,o=e.instantiate,s=e.director,a=e.find,r=e.EditBox,c=e.sys,l=e.Label,g=e.tween,u=e.UIOpacity,d=e.Component},function(e){h=e.loginByEmail,p=e.nonce,f=e.loginByWeb3},function(e){m=e.apiUserAccount},function(e){w=e.applyDecoratedDescriptor,S=e.inheritsLoose,v=e.initializerDefineProperty,I=e.assertThisInitialized,L=e.asyncToGenerator}],execute:function(){var y,b,C,T,_,k,x,B,M;t._RF.push({},"efbacU7GmlO7L4lRXI0N7pm","Login",void 0);var P=n.ccclass,R=n.property;e("Login",(y=P("Login"),b=R({type:i}),C=R({type:i}),T=R({type:i}),y((x=w((k=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,v(t,"toast",x,I(t)),v(t,"forgetdlg",B,I(t)),v(t,"netinstable",M,I(t)),t._loading=null,t.UTF8_Encoding=function(e){var t="";for(var n in e){var i=e.charCodeAt(n);if(i>=0&&i<127)t+=parseInt(("0000000"+i.toString(2)).slice(-8),2).toString(16);else if(i>=127&&i<2047){i=("00000"+i.toString(2)).slice(-11),t+=parseInt("110"+i.slice(0,4),2).toString(16)+parseInt("10"+i.slice(5,10),2).toString(16)}else if(i>=2048&&i<65535){i=("00000"+i.toString(2)).slice(-16),t+=parseInt("1110"+i.slice(0,4),2).toString(16)+parseInt("10"+i.slice(4,10),2).toString(16)+parseInt("10"+i.slice(10),2).toString(16)}else if(i>=65536&&i<2097151){i=("00000"+i.toString(2)).slice(-21),t+=parseInt("11110"+i.slice(0,3),2).toString(16)+parseInt("10"+i.slice(3,9),2).toString(16)+parseInt("10"+i.slice(9,15),2).toString(16)+parseInt("10"+i.slice(15),2).toString(16)}else if(i>=2097152&&i<2147483647){i=("00000"+i.toString(2)).slice(-26),t+=parseInt("111110"+i.slice(0,2),2).toString(16)+parseInt("10"+i.slice(2,8),2).toString(16)+parseInt("10"+i.slice(8,14),2).toString(16)+parseInt("10"+i.slice(14,20),2).toString(16)+parseInt("10"+i.slice(20),2).toString(16)}}return t},t}S(t,e);var n=t.prototype;return n.onLoad=function(){this._loading=o(this.netinstable)},n.start=function(){var e=this;this.showLoading(),m().then((function(e){e.userId&&s.loadScene("selectScene")})).catch((function(){console.log("没登录/登录状态失效"),e.hideLoading()}))},n.clickLoginBtn=function(){var e=this,t=a("Canvas/bg/LoginMes/EmailBox/EmailInput").getComponent(r).string,n=a("Canvas/bg/LoginMes/PwdBox/PwdInput").getComponent(r).string;0==t.trim().length||0==n.trim().length?this.showToast("Input the email and password!"):(this.showLoading(),h({email:t,password:n}).then((function(n){e.hideLoading(),e.showToast("login successfully"),c.localStorage.setItem("token",JSON.parse(n.rawData).access_token),c.localStorage.setItem("email",t),window.parent.postMessage("login","*"),e.goScene()})).catch((function(t){e.hideLoading(),e.showToast(t.message),a("Canvas/bg/LoginMes/PwdBox/PwdInput").getComponent(r).string=""})))},n.clickConnectWallet=function(){var e=this;void 0!==window.ethereum?(this.showLoading(),window.ethereum.request({method:"eth_requestAccounts"}).then(L(regeneratorRuntime.mark((function t(n){var i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=n[0],p({publicAddress:i}).then(L(regeneratorRuntime.mark((function t(n){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,window.ethereum.request({method:"personal_sign",params:[e.UTF8_Encoding(n),i]});case 2:o=t.sent,f({address:i,signature:o}).then((function(t){e.hideLoading(),e.showToast("login successfully"),c.localStorage.setItem("token",JSON.parse(t.rawData).access_token),c.localStorage.setItem("publicAddress",i),window.parent.postMessage("login","*"),e.goScene()})).catch((function(t){e.hideLoading(),e.showToast(t.message)}));case 4:case"end":return t.stop()}}),t)})))).catch((function(t){e.hideLoading(),e.showToast(t.message)}));case 2:case"end":return t.stop()}}),t)})))).catch((function(t){e.hideLoading(),e.showToast(t.message)}))):this.showToast("The MetaMask plugin is not installed")},n.goScene=function(){setTimeout((function(){s.loadScene("selectScene"),s.loadScene("friendsScene"),a("FriendsCanvas")&&(a("FriendsCanvas").active=!0)}),400)},n.clickRegisterLable=function(){s.loadScene("register")},n.loadPrefab=function(){a("Canvas").addChild(o(this.forgetdlg))},n.showLoading=function(){this.node.addChild(this._loading)},n.hideLoading=function(){this.node.removeChild(this._loading)},n.showToast=function(e,t,n){void 0===t&&(t=2),void 0===n&&(n=this.node);var i=o(this.toast);i.getChildByName("text").getComponent(l).string=e,n.addChild(i),g(i.getComponent(u)).delay(t).to(.3,{opacity:0}).call((function(){i.destroy()})).start()},t}(d)).prototype,"toast",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=w(k.prototype,"forgetdlg",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=w(k.prototype,"netinstable",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=k))||_));t._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./utils.ts","./apiAuth.ts","./apiGoods.ts","./apiGoods2.ts","./apiMsg.ts","./apiProfile.ts","./apiScene2.ts","./apiScene.ts","./AudioController.ts","./EnergyBall.ts","./EnergyBallsGroup.ts","./NftItem.ts","./ToolBoxControl.ts","./ToolPray.ts","./ToolSickle.ts","./ToolsControl.ts","./PopupBase.ts","./GameRoot.ts","./LeaveMsg.ts","./PhotoItem.ts","./PhotoList.ts","./RootControl.ts","./Cirrus.ts","./FriendRootControl.ts","./BulletScreen.ts","./constant.ts","./EnergyPane.ts","./FriendSceneItem.ts","./FindFriends.ts","./VerifyCode.ts","./Login.ts","./ForgetPwdControl.ts","./FriendTableItem.ts","./FriendTables.ts","./GoodsItem.ts","./LoadingIndicator.ts","./PreviewPhotoItem.ts","./MintProfile.ts","./Pray.ts","./Register.ts","./SceneItem.ts","./SceneTplItem.ts","./SelectScene.ts","./ShopModal.ts","./Tables.ts","./TableItem.ts","./ToolSwitchBtns.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MintProfile.ts",["cc","./utils.ts","./apiProfile.ts","./rollupPluginModLoBabelHelpers.js","./ToolsControl.ts","./GameRoot.ts","./RootControl.ts","./PreviewPhotoItem.ts"],(function(t){"use strict";var e,o,n,i,a,r,l,s,c,u,p,d,h,m,g,f,C,R,k,y,w,v,L,b,B,G;return{setters:[function(t){e=t.cclegacy,o=t._decorator,n=t.Node,i=t.Prefab,a=t.Label,r=t.find,l=t.v3,s=t.tween,c=t.EditBox,u=t.Component},function(t){p=t.openImgFile,d=t.openVoiceFile},function(t){h=t.apiGetIpfsPhotoList,m=t.apiGetIpfsAudio,g=t.apiMint,f=t.apiUploadPhoto,C=t.apiUploadAudio},function(t){R=t.applyDecoratedDescriptor,k=t.inheritsLoose,y=t.initializerDefineProperty,w=t.assertThisInitialized,v=t.asyncToGenerator},function(t){L=t.ToolsControl},function(t){b=t.GameRoot},function(t){B=t.RootControl},function(t){G=t.PreviewPhotoItem}],execute:function(){var x,I,P,A,T,U,N,M,E,D,F,z,S;e._RF.push({},"da106m4WtZEl5UWt4wTIq+o","MintProfile",void 0);var _=o.ccclass,W=o.property;t("MintProfile",(x=_("MintProfile"),I=W(n),P=W(n),A=W({type:i}),T=W(n),U=W(a),x((E=R((M=function(t){function e(){for(var e,o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return e=t.call.apply(t,[this].concat(n))||this,y(e,"photos",E,w(e)),y(e,"uploadAreas",D,w(e)),y(e,"loading",F,w(e)),y(e,"Tools",z,w(e)),y(e,"ticketCountLabel",S,w(e)),e.photoList=[{location:"1",uploadUrl:"",fileExt:"",remark:""},{location:"2",uploadUrl:"",fileExt:"",remark:""},{location:"3",uploadUrl:"",fileExt:"",remark:""},{location:"4",uploadUrl:"",fileExt:"",remark:""}],e.ticketList=[],e.sceneId="",e}k(e,t);var o=e.prototype;return o.start=function(){this.sceneId=r("MainCanvas").getComponent(B).sceneInfo.id},o.onEnable=function(){var t=this;this.ticketList=this.Tools.getComponent(L).ticketArr,this.ticketCountLabel.string=": "+this.ticketList.length,this.node.scale=l(0,0,1),s(this.node).to(.2,{scale:l(1.1,1.1,1)}).to(.05,{scale:l(1,1,1)}).call((function(){t.getPhotoData(),t.getAudio()})).start()},o.getPhotoData=function(){var t=this;r("GameRoot").getComponent(b).showLoading(),h(this.sceneId).then((function(e){r("GameRoot").getComponent(b).hideLoading(),e.forEach((function(e){var o=t.photoList.findIndex((function(t){return t.location===e.location}));o>=0&&(t.photoList[o]=e)})),t.photoList.forEach((function(e,o){t.photos.children[o].getComponent(G).init(e),t.uploadAreas.children[o].getChildByName("UrlBox").getComponent(c).string=e.uploadUrl,t.uploadAreas.children[o].getChildByName("RemarkBox").getComponent(c).string=e.remark||""}))}))},o.getAudio=function(){var t=this;m(this.sceneId).then((function(e){e.uploadUrl&&(t.uploadAreas.children[4].getChildByName("UrlBox").getComponent(c).string=e.uploadUrl,t.uploadAreas.children[4].getChildByName("RemarkBox").getComponent(c).string=e.remark||"")}))},o.addPhoto=function(){var t=v(regeneratorRuntime.mark((function t(e,o){var n,i,a=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p();case 2:n=t.sent,(i=new FormData).append("file",n),console.log(n,i),r("GameRoot").getComponent(b).showLoading(),f(this.sceneId,{location:o,remark:this.uploadAreas.children[+o-1].getChildByName("RemarkBox").getComponent(c).string},i).then((function(t){r("GameRoot").getComponent(b).hideLoading(),r("GameRoot").getComponent(b).showToast("upload success"),a.photos.children[+o-1].getComponent(G).init(t),a.uploadAreas.children[+o-1].getChildByName("UrlBox").getComponent(c).string=t.uploadUrl,a.uploadAreas.children[+o-1].getChildByName("RemarkBox").getComponent(c).string=t.remark||""})).catch((function(){r("GameRoot").getComponent(b).hideLoading(),r("GameRoot").getComponent(b).showToast("upload fail")}));case 8:case"end":return t.stop()}}),t,this)})));return function(e,o){return t.apply(this,arguments)}}(),o.addVoice=function(){var t=v(regeneratorRuntime.mark((function t(){var e,o,n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d();case 2:e=t.sent,(o=new FormData).append("file",e),console.log(e,o),r("GameRoot").getComponent(b).showLoading(),C(this.sceneId,{remark:this.uploadAreas.children[4].getChildByName("RemarkBox").getComponent(c).string},o).then((function(t){r("GameRoot").getComponent(b).hideLoading(),r("GameRoot").getComponent(b).showToast("upload success"),n.uploadAreas.children[4].getChildByName("UrlBox").getComponent(c).string=t.uploadUrl,n.uploadAreas.children[4].getChildByName("RemarkBox").getComponent(c).string=t.remark||""})).catch((function(){r("GameRoot").getComponent(b).hideLoading(),r("GameRoot").getComponent(b).showToast("upload fail")}));case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.hide=function(){var t=this;this.scheduleOnce((function(){t.node.active=!1}),.1)},o.onClickMint=function(){var t=this;0!==this.ticketList.length?r("GameRoot").getComponent(b).showPopup({title:"Mint Confirm",content:"We will save these photos and audio in IPFS system forever,and mint a NFT on the Polygon. \nDo you want to continue?",onConfirm:function(){r("GameRoot").getComponent(b).showLoading(),g({userSceneId:t.sceneId,ticketId:t.ticketList[0].id}).then((function(e){t.hide(),r("GameRoot").getComponent(b).hideLoading(),r("GameRoot").getComponent(b).showToast("The mint request has been sent"),r("MainCanvas").getComponent(B).getMintSceneInfo()}))}}):r("GameRoot").getComponent(b).showToast("no ticket")},e}(u)).prototype,"photos",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=R(M.prototype,"uploadAreas",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=R(M.prototype,"loading",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=R(M.prototype,"Tools",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=R(M.prototype,"ticketCountLabel",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=M))||N));e._RF.pop()}}}));

System.register("chunks:///_virtual/NftItem.ts",["cc","./utils.ts","./rollupPluginModLoBabelHelpers.js"],(function(e){"use strict";var t,n,i,r,o,c,a,l,u,s,p,f,h,b;return{setters:[function(e){t=e.cclegacy,n=e._decorator,i=e.Node,r=e.Sprite,o=e.Label,c=e.assetManager,a=e.SpriteFrame,l=e.Component},function(e){u=e.eventTarget},function(e){s=e.applyDecoratedDescriptor,p=e.inheritsLoose,f=e.initializerDefineProperty,h=e.assertThisInitialized,b=e.createClass}],execute:function(){var m,g,y,d,v,I,E,P,w,z,L,S,N,C,k,x,M,_,H;t._RF.push({},"d90f8QdeepLHYHeCb0lSVPw","NftItem",void 0);var T=n.ccclass,F=n.property;e("NftItem",(m=T("NftItem"),g=F(i),y=F(i),d=F(r),v=F(o),I=F(o),E=F(o),P=F(o),w=F(o),m((S=s((L=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t=e.call.apply(e,[this].concat(i))||this,f(t,"nodeSelect",S,h(t)),f(t,"attribute",N,h(t)),f(t,"icon",C,h(t)),f(t,"iconName",k,h(t)),f(t,"lv",x,h(t)),f(t,"hp",M,h(t)),f(t,"mp",_,h(t)),f(t,"luck",H,h(t)),t.iconInfo=null,t}p(t,e);var n=t.prototype;return n.start=function(){var e=this;this.iconInfo.icon&&(c.loadRemote(this.iconInfo.icon,{ext:".png"},(function(t,n){t||(e.icon.spriteFrame=a.createWithImage(n))})),this.iconName.string=this.iconInfo.name,this.hp.string="HP "+this.iconInfo.extraProperties.HP,this.mp.string="MP "+this.iconInfo.extraProperties.MP,this.luck.string="LUCK "+this.iconInfo.extraProperties.LUCK,this.lv.string="LV "+this.iconInfo.extraProperties.LEVEL),this.node.on(i.EventType.MOUSE_ENTER,(function(){e.attribute.active=!0})),this.node.on(i.EventType.MOUSE_LEAVE,(function(){e.attribute.active=!1}))},n.update=function(e){0!==this.iconInfo.status&&(this.icon.grayscale=!0)},n.onItemClick=function(){this.node.parent.children.forEach((function(e){e.getComponent(t).select=!1})),this.select=!0,u.emit("selectIcon",this.iconInfo)},b(t,[{key:"select",get:function(){return this.nodeSelect.active},set:function(e){this.nodeSelect.active=e}}]),t}(l)).prototype,"nodeSelect",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=s(L.prototype,"attribute",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=s(L.prototype,"icon",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=s(L.prototype,"iconName",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=s(L.prototype,"lv",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=s(L.prototype,"hp",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=s(L.prototype,"mp",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=s(L.prototype,"luck",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=L))||z));t._RF.pop()}}}));

System.register("chunks:///_virtual/PhotoItem.ts",["cc","./rollupPluginModLoBabelHelpers.js"],(function(t){"use strict";var i,e,o,n,a,r,l,s,c,h,u,g;return{setters:[function(t){i=t.cclegacy,e=t._decorator,o=t.Node,n=t.assetManager,a=t.Sprite,r=t.SpriteFrame,l=t.UITransform,s=t.Component},function(t){c=t.applyDecoratedDescriptor,h=t.inheritsLoose,u=t.initializerDefineProperty,g=t.assertThisInitialized}],execute:function(){var p,d,m,f,v,y,_;i._RF.push({},"eb956DQHZ5GoLaEgPBSAL/M","PhotoItem",void 0);var S=e.ccclass,b=e.property;t("PhotoItem",(p=S("PhotoItem"),d=b(o),m=b(o),p((y=c((v=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return i=t.call.apply(t,[this].concat(o))||this,u(i,"img",y,g(i)),u(i,"loading",_,g(i)),i.loading_rotate=0,i.location="",i.uploadUrl="",i.ext="",i}h(i,t);var e=i.prototype;return e.init=function(t){var i=this;this.location=t.location,this.uploadUrl=t.uploadUrl,this.ext=t.fileExt,this.uploadUrl&&(this.loading.active=!0,n.loadRemote(this.uploadUrl,{ext:this.ext},(function(t,e){t||(i.loading.active=!1,i.img.getComponent(a).spriteFrame=r.createWithImage(e))})))},e.start=function(){this.img.on(o.EventType.SIZE_CHANGED,this.onSizeChanged,this)},e.update=function(t){this.loading_rotate+=220*t,this.loading.setRotationFromEuler(0,0,-this.loading_rotate%360),this.loading_rotate>360&&(this.loading_rotate-=360)},e.onSizeChanged=function(){var t="4"===this.location?256:192,i="4"===this.location?192:144,e=this.img.getComponent(l).width,o=this.img.getComponent(l).height;e/o>=t/i?this.img.setScale(i/o,i/o):this.img.setScale(t/e,t/e)},i}(s)).prototype,"img",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=c(v.prototype,"loading",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=v))||f));i._RF.pop()}}}));

System.register("chunks:///_virtual/PhotoList.ts",["cc","./rollupPluginModLoBabelHelpers.js","./PhotoItem.ts"],(function(t){"use strict";var o,r,i,n,e;return{setters:[function(t){o=t.cclegacy,r=t._decorator,i=t.Component},function(t){n=t.inheritsLoose},function(t){e=t.PhotoItem}],execute:function(){var a;o._RF.push({},"04aa5W6sXVA76UOmLkPtzYr","PhotoList",void 0);var s=r.ccclass;r.property,t("PhotoList",s("PhotoList")(a=function(t){function o(){for(var o,r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return(o=t.call.apply(t,[this].concat(i))||this).photoList=[{location:"1",uploadUrl:"",fileExt:"",remark:""},{location:"2",uploadUrl:"",fileExt:"",remark:""},{location:"3",uploadUrl:"",fileExt:"",remark:""},{location:"4",uploadUrl:"",fileExt:"",remark:""}],o}n(o,t);var r=o.prototype;return r.start=function(){},r.initPhotos=function(t){var o=this;t.attributes.filter((function(t){return"audio"!==t.trait_type})).forEach((function(t){var r=t.value.split(";");o.photoList[parseInt(t.trait_type.substring(5))-1].uploadUrl=r[0],o.photoList[parseInt(t.trait_type.substring(5))-1].remark=r[1],o.photoList[parseInt(t.trait_type.substring(5))-1].fileExt=r[2]})),this.photoList.forEach((function(t,r){o.node.children[r].getComponent(e).init(t)}))},o}(i))||a);o._RF.pop()}}}));

System.register("chunks:///_virtual/PopupBase.ts",["cc","./rollupPluginModLoBabelHelpers.js"],(function(e){"use strict";var t,n,i,o,r,c,a,l,s,u,p,f,h,d;return{setters:[function(e){t=e.cclegacy,n=e._decorator,i=e.Node,o=e.Label,r=e.v3,c=e.tween,a=e.resources,l=e.SpriteFrame,s=e.Sprite,u=e.Component},function(e){p=e.applyDecoratedDescriptor,f=e.inheritsLoose,h=e.initializerDefineProperty,d=e.assertThisInitialized}],execute:function(){var m,y,b,g,B,v,C,w,z,k,P,F,D;t._RF.push({},"99cc0WIf9xO0YCdr1dnov5f","PopupBase",void 0);var _=n.ccclass,I=n.property;e("PopupBase",(m=_("PopupBase"),y=I(i),b=I({type:o}),g=I({type:o}),B=I(i),v=I(i),m((z=p((w=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,h(t,"shadeBg",z,d(t)),h(t,"title",k,d(t)),h(t,"content",P,d(t)),h(t,"cancelBtn",F,d(t)),h(t,"confirmBtn",D,d(t)),t}f(t,e);var n=t.prototype;return n.start=function(){},n.onDestroy=function(){this.node.off("ok"),this.node.off("cancel")},n.show=function(e){var t=this;this.node.scale=r(0,0,1),c(this.node).to(.2,{scale:r(1.1,1.1,1)}).to(.05,{scale:r(1,1,1)}).call((function(){})).start(),e.type&&a.load("images/UI/btn-"+e.type+"/spriteFrame",l,(function(e,n){!e&&(t.confirmBtn.getComponent(s).spriteFrame=n)})),this.title.string=e.title,this.content.string=e.content,this.node.on("ok",e.onConfirm),this.node.on("cancel",e.onCancel)},n.hide=function(){var e=this;this.scheduleOnce((function(){e.node.destroy()}),.1)},n.onClickConfirm=function(){this.node.emit("ok"),this.hide()},n.onClickCancel=function(){this.node.emit("cancel"),this.hide()},t}(u)).prototype,"shadeBg",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=p(w.prototype,"title",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=p(w.prototype,"content",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=p(w.prototype,"cancelBtn",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=p(w.prototype,"confirmBtn",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=w))||C));t._RF.pop()}}}));

System.register("chunks:///_virtual/Pray.ts",["cc","./apiGoods.ts","./apiGoods2.ts","./rollupPluginModLoBabelHelpers.js","./ToolPray.ts","./RootControl.ts","./FriendRootControl.ts"],(function(t){"use strict";var n,o,e,i,a,r,s,c,p,u,l,y,f;return{setters:[function(t){n=t.cclegacy,o=t._decorator,e=t.Animation,i=t.find,a=t.UIOpacity,r=t.tween,s=t.Component},function(t){c=t.apiUseWorship},function(t){p=t.apiUseWorship_Pub},function(t){u=t.inheritsLoose},function(t){l=t.ToolPray},function(t){y=t.RootControl},function(t){f=t.FriendRootControl}],execute:function(){var d;n._RF.push({},"06007KJNJxM2r64MRNiIKWv","Pray",void 0);var C=o.ccclass;o.property,t("Pray",C("Pray")(d=function(t){function n(){return t.apply(this,arguments)||this}u(n,t);var o=n.prototype;return o.handlePray=function(t,n){var o=this.node;o.active=!0;var r=o.getComponent(e).getState("pray");r.isPlaying||(i("MainCanvas").getComponent(y)?c({UserSceneId:i("MainCanvas").getComponent(y).sceneInfo.id,UserItemId:n}).then((function(n){t.target.getComponent(l).use(),o.getComponent(a).opacity=255,r.play()})):p({UserSceneId:i("MainCanvas").getComponent(f).sceneInfo.id,UserItemId:n}).then((function(n){t.target.getComponent(l).use(),o.getComponent(a).opacity=255,r.play()})))},o.closePray=function(){var t=this.node;r(t.getComponent(a)).to(.3,{opacity:0}).call((function(){t.active=!1})).start()},n}(s))||d);n._RF.pop()}}}));

System.register("chunks:///_virtual/PreviewPhotoItem.ts",["cc","./rollupPluginModLoBabelHelpers.js"],(function(t){"use strict";var e,i,o,n,r,a,l,s,c,h,u,g;return{setters:[function(t){e=t.cclegacy,i=t._decorator,o=t.Node,n=t.assetManager,r=t.Sprite,a=t.SpriteFrame,l=t.UITransform,s=t.Component},function(t){c=t.applyDecoratedDescriptor,h=t.inheritsLoose,u=t.initializerDefineProperty,g=t.assertThisInitialized}],execute:function(){var p,d,m,f,v,y,P;e._RF.push({},"0e03eqWC7FETKvfeZrgo/Gd","PreviewPhotoItem",void 0);var _=i.ccclass,w=i.property;t("PreviewPhotoItem",(p=_("PreviewPhotoItem"),d=w(o),m=w(o),p((y=c((v=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),n=0;n<i;n++)o[n]=arguments[n];return e=t.call.apply(t,[this].concat(o))||this,u(e,"img",y,g(e)),u(e,"loading",P,g(e)),e.loading_rotate=0,e.location="",e.uploadUrl="",e.ext="",e}h(e,t);var i=e.prototype;return i.init=function(t){var e=this;this.location=t.location,this.uploadUrl=t.uploadUrl,this.ext=t.fileExt,this.uploadUrl&&(this.loading.active=!0,n.loadRemote(this.uploadUrl,{ext:this.ext},(function(t,i){t||(e.loading.active=!1,e.img.getComponent(r).spriteFrame=a.createWithImage(i))})))},i.start=function(){this.img.on(o.EventType.SIZE_CHANGED,this.onSizeChanged,this)},i.update=function(t){this.loading_rotate+=220*t,this.loading.setRotationFromEuler(0,0,-this.loading_rotate%360),this.loading_rotate>360&&(this.loading_rotate-=360)},i.onSizeChanged=function(){var t="4"===this.location?152.4:114.3,e="4"===this.location?114.3:85.7,i=this.img.getComponent(l).width,o=this.img.getComponent(l).height;i/o>=t/e?this.img.setScale(e/o,e/o):this.img.setScale(t/i,t/i)},e}(s)).prototype,"img",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=c(v.prototype,"loading",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=v))||f));e._RF.pop()}}}));

System.register("chunks:///_virtual/Register.ts",["cc","./apiAuth.ts","./rollupPluginModLoBabelHelpers.js"],(function(t){"use strict";var e,n,o,i,s,r,a,c,l,g,u,h,p,d,m,f,v;return{setters:[function(t){e=t.cclegacy,n=t._decorator,o=t.Prefab,i=t.find,s=t.EditBox,r=t.director,a=t.instantiate,c=t.Label,l=t.tween,g=t.UIOpacity,u=t.Component},function(t){h=t.sendEmailVerificationCode,p=t.registerByEmail},function(t){d=t.applyDecoratedDescriptor,m=t.inheritsLoose,f=t.initializerDefineProperty,v=t.assertThisInitialized}],execute:function(){var C,w,y,B,x;e._RF.push({},"e4532rylRNOzbgqyAqzYuUh","Register",void 0);var b=n.ccclass,T=n.property;t("Register",(C=b("Register"),w=T({type:o}),C((x=d((B=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o))||this,f(e,"toast",x,v(e)),e}m(e,t);var n=e.prototype;return n.start=function(){},n.update=function(t){},n.clickSendMailBtn=function(){var t=this,e=i("Canvas/bg/step1/emailBox/EditBox").getComponent(s).string;0==e.trim().length?this.showToast("Incomplete input,please check!"):/[^@ \t\r\n]+@[^@ \t\r\n]+\.[^@ \t\r\n]+/.test(e.trim())?h({email:e}).then((function(e){t.showToast(e.Message)})).catch((function(e){t.showToast(e.message)})):this.showToast("Please enter the correct email address!")},n.getWalletAddress=function(){void 0!==window.ethereum?window.ethereum.request({method:"eth_requestAccounts"}).then((function(t){i("Canvas/bg/step4/conBox/EditBox").getComponent(s).string=t[0]}),(function(t){console.log("getWalletAddress_err",t)})):this.showToast("The wallet plugin is not installed")},n.clickRegisterBtn=function(){var t=this,e=i("Canvas/bg/step1/emailBox/EditBox").getComponent(s).string,n=i("Canvas/bg/step2/verifyCodeBox/EditBox").getComponent(s).string,o=i("Canvas/bg/step3/pwdBox/EditBox").getComponent(s).string,r=i("Canvas/bg/step4/conBox/EditBox").getComponent(s).string;0==e.trim().length||0==n.trim().length||0==o.trim().length||0==r.trim().length?this.showToast("Incomplete input,please check!"):p({email:e,password:o,verificationCode:n,publicAddress:r}).then((function(e){t.showToast("send success"),t.gotoLogin()})).catch((function(e){t.showToast(e.message)}))},n.gotoLogin=function(){r.loadScene("login")},n.showToast=function(t,e,n){if(void 0===e&&(e=2),void 0===n&&(n=this.node),null!=this.toast){var o=a(this.toast);o.getChildByName("text").getComponent(c).string=t,n.addChild(o),l(o.getComponent(g)).delay(e).to(.3,{opacity:0}).call((function(){o.destroy()})).start()}},e}(u)).prototype,"toast",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=B))||y));e._RF.pop()}}}));

System.register("chunks:///_virtual/RootControl.ts",["cc","./utils.ts","./apiGoods.ts","./apiProfile.ts","./apiScene.ts","./rollupPluginModLoBabelHelpers.js","./AudioController.ts","./EnergyBallsGroup.ts","./ToolBoxControl.ts","./ToolsControl.ts","./LeaveMsg.ts","./PhotoList.ts","./Cirrus.ts"],(function(t){"use strict";var e,n,o,i,r,a,s,l,c,u,f,p,h,g,d,y,b,v,m,C,S,B,M,E,w,_,P,I,x,z,k;return{setters:[function(t){e=t.cclegacy,n=t._decorator,o=t.Camera,i=t.Node,r=t.Prefab,a=t.Label,s=t.RenderTexture,l=t.director,c=t.game,u=t.instantiate,f=t.Component},function(t){p=t.eventTarget},function(t){h=t.apiGetBackpack},function(t){g=t.apiGetMintLogs},function(t){d=t.apiPutScene,y=t.apiGetCirrusProgress,b=t.apiGetGoldProgress,v=t.apiUserAccount,m=t.apiGetMintSceneInfo},function(t){C=t.applyDecoratedDescriptor,S=t.inheritsLoose,B=t.initializerDefineProperty,M=t.assertThisInitialized,E=t.extends},function(t){w=t.AudioController},function(t){_=t.EnergyBallsGroup},function(t){P=t.ToolBoxControl},function(t){I=t.ToolsControl},function(t){x=t.LeaveMsg},function(t){z=t.PhotoList},function(t){k=t.Cirrus}],execute:function(){var N,T,L,U,G,R,O,A,D,V,J,F,j,H,W,q,K,Q,X,Y,Z,$,tt,et,nt,ot,it,rt,at,st,lt;e._RF.push({},"65b8cmU9u1OE4trtpSD1sSI","RootControl",void 0);var ct=n.ccclass,ut=n.property;t("RootControl",(N=ct("RootControl"),T=ut(o),L=ut(i),U=ut(i),G=ut(i),R=ut(i),O=ut(i),A=ut(i),D=ut(i),V=ut(i),J=ut({type:r}),F=ut(i),j=ut(i),H=ut(i),W=ut(a),N((Q=C((K=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o))||this,B(e,"Camera",Q,M(e)),B(e,"toggleUseBtn",X,M(e)),B(e,"tables",Y,M(e)),B(e,"photos",Z,M(e)),B(e,"audioCtl",$,M(e)),B(e,"profileBtn",tt,M(e)),B(e,"switchSceneBtn",et,M(e)),B(e,"cirrus",nt,M(e)),B(e,"energyBalls",ot,M(e)),B(e,"shopModal",it,M(e)),B(e,"eikonBox",rt,M(e)),B(e,"toolsBox",at,M(e)),B(e,"leaveMsgBox",st,M(e)),B(e,"sceneName",lt,M(e)),e._rt=null,e._canvas=null,e.sceneInfo=null,e.energyCoinCount=0,e}S(e,t);var n=e.prototype;return n.onLoad=function(){this._rt=new s,this._rt.reset({width:1920,height:1200}),this._rt.resize(400,250),this.Camera.targetTexture=this._rt,l.preloadScene("selectScene")},n.start=function(){var t=this;this.addEvent(),this.getMyAccount(),this.getBackpack(),this.getMintSceneInfo(),this.setCirrusProgress(this.sceneInfo.id),this.setGoldProgress(this.sceneInfo.id),this.schedule((function(){t.takeScreenPhoto()}),30,10)},n.init=function(t){var e=this;this.sceneInfo=t,this.sceneInfo.thumbnailUrl||this.scheduleOnce((function(){e.takeScreenPhoto()}),3)},n.addEvent=function(){var t=this;p.on("updateEnergyValue",(function(e){t.energyCoinCount=e}),this),[this.profileBtn,this.toggleUseBtn,this.switchSceneBtn].forEach((function(t){t.on(i.EventType.MOUSE_ENTER,(function(t){c.canvas.style.cursor="pointer"})),t.on(i.EventType.MOUSE_LEAVE,(function(t){c.canvas.style.cursor="auto"}))})),this.tables.children.forEach((function(t){t.getChildByName("remove").on(i.EventType.MOUSE_ENTER,(function(t){c.canvas.style.cursor="pointer"})),t.getChildByName("remove").on(i.EventType.MOUSE_LEAVE,(function(t){c.canvas.style.cursor="auto"}))}))},n.onDestroy=function(){p.off("updateEnergyValue"),p.off("isSelectStatus"),p.off("selectIcon"),console.log("主场景被销毁")},n.goSwitchScene=function(){l.loadScene("selectScene")},n.onShowMintModal=function(){this.node.getChildByName("MintModal").active=!0},n.onShowShopModal=function(){var t=u(this.shopModal);this.node.addChild(t)},n.takeScreenPhoto=function(){var t=280,e=175,n=this._rt.readPixels(Math.round(400/1920*58),Math.round(37.5),t,e);this._canvas?this._canvas.getContext("2d").clearRect(0,0,this._canvas.width,this._canvas.height):(this._canvas=document.createElement("canvas"),this._canvas.width=t,this._canvas.height=e);for(var o=this._canvas.getContext("2d"),i=0;i<e;i++){for(var r=174-i,a=o.createImageData(t,1),s=r*t*4,l=0;l<1120;l++)a.data[l]=n[s+l];o.putImageData(a,0,i)}var c=this._canvas.toDataURL("image/png");d(E({},this.sceneInfo,{thumbnailUrl:c}))},n.setCirrusProgress=function(t){var e=this;y(t).then((function(t){e.cirrus.getComponent(k).init(+t.progressValue)}))},n.setGoldProgress=function(t){var e=this;b(t).then((function(t){e.energyBalls.getComponent(_).init(t)}))},n.getMyAccount=function(){var t=this;v().then((function(e){p.emit("updateEnergyValue",e.allScore),t.leaveMsgBox.getComponent(x).userId=e.userId}))},n.getBackpack=function(){var t=this;h().then((function(e){var n=e.items.filter((function(t){return"eikon"===t.type})),o=e.items.filter((function(t){return"cast ticket"===t.type||"tool"===t.type}));n.length>0&&(t.eikonBox.getComponent(P).init(n),console.log(n)),o.length>0&&t.toolsBox.getComponent(I).init(o)}))},n.getMintSceneInfo=function(){var t=this;g({userSceneId:this.sceneInfo.id}).then((function(e){e[0]&&(1===e[0].transactionStatus?m(t.sceneInfo.id).then((function(e){e.nftProperty&&(console.log(JSON.parse(e.nftProperty)),t.sceneName.string=JSON.parse(e.nftProperty).name,t.photos.getComponent(z).initPhotos(JSON.parse(e.nftProperty)),t.audioCtl.getComponent(w).initAudio(JSON.parse(e.nftProperty)))})):0===e[0].transactionStatus?t.sceneName.string="Mint Status: Waiting":t.sceneName.string="Mint Status: Fail")}))},e}(f)).prototype,"Camera",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=C(K.prototype,"toggleUseBtn",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=C(K.prototype,"tables",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=C(K.prototype,"photos",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=C(K.prototype,"audioCtl",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt=C(K.prototype,"profileBtn",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=C(K.prototype,"switchSceneBtn",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=C(K.prototype,"cirrus",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ot=C(K.prototype,"energyBalls",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=C(K.prototype,"shopModal",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rt=C(K.prototype,"eikonBox",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),at=C(K.prototype,"toolsBox",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),st=C(K.prototype,"leaveMsgBox",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),lt=C(K.prototype,"sceneName",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=K))||q));e._RF.pop()}}}));

System.register("chunks:///_virtual/SceneItem.ts",["cc","./utils.ts","./rollupPluginModLoBabelHelpers.js"],(function(e){"use strict";var n,t,o,r,s,c,i,a,u,l,f,m;return{setters:[function(e){n=e.cclegacy,t=e._decorator,o=e.Node,r=e.game,s=e.Label,c=e.Texture2D,i=e.ImageAsset,a=e.SpriteFrame,u=e.Sprite,l=e.Component},function(e){f=e.eventTarget},function(e){m=e.inheritsLoose}],execute:function(){var p;n._RF.push({},"c3e30oSdOxNfqNiPv6xsA6O","SceneItem",void 0);var h=t.ccclass;t.property,e("SceneItem",h("SceneItem")(p=function(e){function n(){for(var n,t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return(n=e.call.apply(e,[this].concat(o))||this).sceneInfo=null,n}m(n,e);var t=n.prototype;return t.init=function(e){this.sceneInfo=e},t.start=function(){var e=this;if(this.node.on(o.EventType.MOUSE_ENTER,(function(){r.canvas.style.cursor="pointer"})),this.node.on(o.EventType.MOUSE_LEAVE,(function(){r.canvas.style.cursor="auto"})),this.node.getChildByName("Label").getComponent(s).string=this.sceneInfo.sceneName+"'s Memorial Wall",this.sceneInfo.thumbnailUrl){var n=new Image;n.src=this.sceneInfo.thumbnailUrl;var t=new c;n.onload=function(){t.image=new i(n);var o=new a;o.texture=t,e.node.getChildByName("Sprite").getComponent(u).spriteFrame=o}}},t.onClickScene=function(){f.emit("changeMainScene",this.sceneInfo),r.canvas.style.cursor="auto"},n}(l))||p);n._RF.pop()}}}));

System.register("chunks:///_virtual/SceneTplItem.ts",["cc","./utils.ts","./rollupPluginModLoBabelHelpers.js"],(function(e){"use strict";var t,n,r,c,o,i,s,l;return{setters:[function(e){t=e.cclegacy,n=e._decorator,r=e.resources,c=e.SpriteFrame,o=e.Sprite,i=e.Component},function(e){s=e.eventTarget},function(e){l=e.inheritsLoose}],execute:function(){var p;t._RF.push({},"82dc76CZR1MSJi2StH6ZJ6+","SceneTplItem",void 0);var a=n.ccclass;n.property,e("SceneTplItem",a("SceneTplItem")(p=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(t=e.call.apply(e,[this].concat(r))||this).sceneTplInfo={Code:"",ImgUrl:"",Name:"",Order:"",Remark:"",Tags:""},t}l(t,e);var n=t.prototype;return n.init=function(e){this.sceneTplInfo=e},n.start=function(){var e=this;r.load("images/"+this.sceneTplInfo.ImgUrl+"/spriteFrame",c,(function(t,n){!t&&(e.node.getComponent(o).spriteFrame=n)}))},n.onClickSceneTpl=function(){s.emit("selectSceneTpl",this.sceneTplInfo.Code)},t}(i))||p);t._RF.pop()}}}));

System.register("chunks:///_virtual/SelectScene.ts",["cc","./utils.ts","./apiScene.ts","./rollupPluginModLoBabelHelpers.js","./GameRoot.ts","./SceneItem.ts","./SceneTplItem.ts"],(function(e){"use strict";var n,t,i,o,r,a,c,l,u,s,d,p,f,m,g,h,b,y,S,v,C;return{setters:[function(e){n=e.cclegacy,t=e._decorator,i=e.Prefab,o=e.Node,r=e.EditBox,a=e.game,c=e.director,l=e.find,u=e.instantiate,s=e.Component},function(e){d=e.eventTarget},function(e){p=e.apiGetMyScenes,f=e.apiGeSceneConfiguration,m=e.apiCreateScene},function(e){g=e.applyDecoratedDescriptor,h=e.inheritsLoose,b=e.initializerDefineProperty,y=e.assertThisInitialized},function(e){S=e.GameRoot},function(e){v=e.SceneItem},function(e){C=e.SceneTplItem}],execute:function(){var E,T,w,G,z,I,M,N,B,L,R,O,x,V,_,k,A,D,F,P,U,J,j,H,K;n._RF.push({},"75eb2fdVzlFuJ8OOGIfXEyg","SelectScene",void 0);var X=t.ccclass,q=t.property;e("SelectScene",(E=X("SelectScene"),T=q({type:i}),w=q(o),G=q(o),z=q(o),I=q(o),M=q(o),N=q(o),B=q(r),L=q(o),R=q({type:i}),O=q(o),E((_=g((V=function(e){function n(){for(var n,t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return n=e.call.apply(e,[this].concat(i))||this,b(n,"sceneItem",_,y(n)),b(n,"content",k,y(n)),b(n,"addNode",A,y(n)),b(n,"addModal",D,y(n)),b(n,"okBtn",F,y(n)),b(n,"cancelBtn",P,y(n)),b(n,"addBtn",U,y(n)),b(n,"nameEditbox",J,y(n)),b(n,"sceneToggleGroup",j,y(n)),b(n,"sceneTplItem",H,y(n)),b(n,"scrollTips",K,y(n)),n.inputNameValue="",n.selectSceneCode="",n.myScenes=[],n}h(n,e);var t=n.prototype;return t.onLoad=function(){a.canvas.style.cursor="auto",c.preloadScene("scene",(function(){return console.log("主场景预加载完成")}))},t.start=function(){this.addMouseEvent(),this.getMyScenes()},t.addMouseEvent=function(){var e=this;[this.addBtn,this.okBtn,this.cancelBtn].forEach((function(e){e.on(o.EventType.MOUSE_ENTER,(function(){a.canvas.style.cursor="pointer"})),e.on(o.EventType.MOUSE_LEAVE,(function(){a.canvas.style.cursor="auto"}))})),this.nameEditbox.node.on("editing-did-ended",(function(n){e.inputNameValue=n.string}),this)},t.getMyScenes=function(){var e=this;l("GameRoot").getComponent(S).showLoading(),p().then((function(n){l("GameRoot").getComponent(S).hideLoading(),n.length>0&&(e.myScenes=n,e.myScenes.forEach((function(n){var t=u(e.sceneItem);t.getComponent(v).init(n),e.content.addChild(t)})),e.addNode.setSiblingIndex(e.content.children.length)),n.length>=4&&(e.scrollTips.active=!0)}))},t.onAddNewScene=function(){var e=this;this.scheduleOnce((function(){e.addModal.active=!0,e.sceneToggleGroup.children.length<=0&&(l("GameRoot").getComponent(S).showLoading(),f().then((function(n){l("GameRoot").getComponent(S).hideLoading();var t=JSON.parse(n).SceneList;t.forEach((function(n){var t=u(e.sceneTplItem);t.getComponent(C).init(n),e.sceneToggleGroup.addChild(t)})),e.selectSceneCode=t[0].Code})))}),.1)},t.onOK=function(){this.inputNameValue.trim()&&(l("GameRoot").getComponent(S).showLoading(),m({sceneName:this.inputNameValue.trim(),sceneCode:this.selectSceneCode,thumbnailUrl:""}).then((function(e){l("GameRoot").getComponent(S).hideLoading(),d.emit("changeMainScene",e)})))},t.onCancel=function(){var e=this;this.scheduleOnce((function(){e.addModal.active=!1}),.1)},n}(s)).prototype,"sceneItem",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=g(V.prototype,"content",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=g(V.prototype,"addNode",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=g(V.prototype,"addModal",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=g(V.prototype,"okBtn",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=g(V.prototype,"cancelBtn",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=g(V.prototype,"addBtn",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=g(V.prototype,"nameEditbox",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=g(V.prototype,"sceneToggleGroup",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=g(V.prototype,"sceneTplItem",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=g(V.prototype,"scrollTips",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=V))||x));n._RF.pop()}}}));

System.register("chunks:///_virtual/ShopModal.ts",["cc","./utils.ts","./apiGoods.ts","./rollupPluginModLoBabelHelpers.js","./GameRoot.ts","./RootControl.ts","./FriendRootControl.ts","./GoodsItem.ts"],(function(t){"use strict";var o,e,n,r,i,s,a,c,u,l,d,p,f,g,h,m,b,G,C,S,y,v;return{setters:[function(t){o=t.cclegacy,e=t._decorator,n=t.Prefab,r=t.Node,i=t.Slider,s=t.Label,a=t.v3,c=t.tween,u=t.find,l=t.instantiate,d=t.Component},function(t){p=t.eventTarget},function(t){f=t.apiGetGoodsList,g=t.apiBuyGoods},function(t){h=t.applyDecoratedDescriptor,m=t.inheritsLoose,b=t.initializerDefineProperty,G=t.assertThisInitialized},function(t){C=t.GameRoot},function(t){S=t.RootControl},function(t){y=t.FriendRootControl},function(t){v=t.GoodsItem}],execute:function(){var L,R,w,M,I,z,k,B,E,F,P,T,_;o._RF.push({},"d04fd5oMaJImIHcqEfGxOUe","ShopModal",void 0);var D=e.ccclass,H=e.property;t("ShopModal",(L=D("ShopModal"),R=H({type:n}),w=H(r),M=H(i),I=H(s),z=H(s),L((E=h((B=function(t){function o(){for(var o,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return o=t.call.apply(t,[this].concat(n))||this,b(o,"goodsItem",E,G(o)),b(o,"goodsWrapper",F,G(o)),b(o,"slider",P,G(o)),b(o,"countLabel",T,G(o)),b(o,"sumLabel",_,G(o)),o.currentSelectGoods=null,o.currentCount=1,o.sumPrice=0,o}m(o,t);var e=o.prototype;return e.start=function(){var t=this;this.slider.node.on("slide",(function(o){console.log(o.progress),t.currentCount=Math.floor(9*o.progress)+1,t.countLabel.string="count: "+t.currentCount.toString(),t.currentSelectGoods&&(t.sumLabel.string=(t.currentCount*t.currentSelectGoods.price).toString())}),this),p.on("selectShopGoods",(function(o){t.currentSelectGoods=o,t.currentSelectGoods&&(t.sumLabel.string=(t.currentCount*t.currentSelectGoods.price).toString())}),this)},e.onEnable=function(){var t=this;this.node.scale=a(0,0,1),c(this.node).to(.2,{scale:a(1.1,1.1,1)}).to(.05,{scale:a(1,1,1)}).call((function(){t.getGoodsList()})).start()},e.getGoodsList=function(){var t=this;u("GameRoot").getComponent(C).showLoading(),f().then((function(o){u("GameRoot").getComponent(C).hideLoading(),o.forEach((function(o){var e=l(t.goodsItem);e.getComponent(v).init(o),t.goodsWrapper.addChild(e)}))}))},e.onClickBuy=function(){this.currentSelectGoods&&(console.log(this.currentSelectGoods),g({GoodsId:this.currentSelectGoods.id,Count:this.currentCount}).then((function(t){u("GameRoot").getComponent(C).showToast("兑换成功",1),p.emit("updateEnergyValue",t)})).catch((function(t){u("GameRoot").getComponent(C).showToast(t.message,1)})))},e.onHideShopModal=function(){var t=this;this.scheduleOnce((function(){var o,e;t.node.destroy(),null==(o=u("MainCanvas").getComponent(S))||o.getBackpack(),null==(e=u("MainCanvas").getComponent(y))||e.getBackpack()}),.1)},o}(d)).prototype,"goodsItem",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=h(B.prototype,"goodsWrapper",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=h(B.prototype,"slider",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=h(B.prototype,"countLabel",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=h(B.prototype,"sumLabel",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=B))||k));o._RF.pop()}}}));

System.register("chunks:///_virtual/TableItem.ts",["cc","./apiGoods.ts","./rollupPluginModLoBabelHelpers.js","./RootControl.ts","./Tables.ts"],(function(e){"use strict";var t,n,i,o,r,a,l,c,s,u,p,m,g,d,h,f,b,y,v;return{setters:[function(e){t=e.cclegacy,n=e._decorator,i=e.Label,o=e.Node,r=e.tween,a=e.UIOpacity,l=e.find,c=e.Component,s=e.assetManager,u=e.Sprite,p=e.SpriteFrame},function(e){m=e.apiUnloadEikon},function(e){g=e.applyDecoratedDescriptor,d=e.inheritsLoose,h=e.initializerDefineProperty,f=e.assertThisInitialized,b=e.createClass},function(e){y=e.RootControl},function(e){v=e.Tables}],execute:function(){var C,I,N,B,E,P,_,L,T,k,x;t._RF.push({},"da8deLAqyJGKL5VPg+H9Wln","TableItem",void 0);var M=n.ccclass,S=n.property;e("TableItem",(C=M("TableItem"),I=S(i),N=S(i),B=S(i),E=S(i),C((L=g((_=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,h(t,"lv",L,f(t)),h(t,"hp",T,f(t)),h(t,"mp",k,f(t)),h(t,"luck",x,f(t)),t._tableInfo={id:"",order:-1,img:"",extraProperties:null},t}return d(t,e),t.prototype.start=function(){var e=this;this.node.on(o.EventType.MOUSE_ENTER,(function(t){var n=e.node.parent.getComponent(v).isSelectStatus;e._tableInfo.img&&!n&&(e.node.getChildByName("remove").active=!0,e.node.getChildByName("attribute").active=!0,r(e.node.getChildByName("attribute").getComponent(a)).to(.1,{opacity:255}).start())})),this.node.on(o.EventType.MOUSE_LEAVE,(function(t){e._tableInfo.img&&(e.node.getChildByName("remove").active=!1,r(e.node.getChildByName("attribute").getComponent(a)).to(.1,{opacity:0}).call((function(){e.node.getChildByName("attribute").active=!1})).start())}),this,!0),this.node.getChildByName("remove").on(o.EventType.MOUSE_DOWN,(function(t){e.node.getChildByName("remove").active=!1,e.node.getChildByName("attribute").active=!1,m(e.tableInfo.id).then((function(t){e.tableInfo={id:"",order:-1,img:"",extraProperties:null},l("MainCanvas").getComponent(y).getBackpack()}))}))},b(t,[{key:"tableInfo",get:function(){return this._tableInfo},set:function(e){var t=this;console.log(e),this._tableInfo=e,e.img?(s.loadRemote(e.img,{ext:".png"},(function(e,n){t.node.getChildByName("iconImg").getComponent(u).spriteFrame=p.createWithImage(n)})),this.hp.string="HP "+e.extraProperties.HP,this.mp.string="MP "+e.extraProperties.MP,this.luck.string="LUCK "+e.extraProperties.LUCK,this.lv.string="LV "+e.extraProperties.LEVEL):(this.node.getChildByName("iconImg").getComponent(u).spriteFrame=null,this.node.getChildByName("remove").active=!1)}}]),t}(c)).prototype,"lv",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=g(_.prototype,"hp",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=g(_.prototype,"mp",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=g(_.prototype,"luck",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=_))||P));t._RF.pop()}}}));

System.register("chunks:///_virtual/Tables.ts",["cc","./utils.ts","./apiGoods.ts","./rollupPluginModLoBabelHelpers.js","./RootControl.ts","./TableItem.ts"],(function(e){"use strict";var t,n,o,r,i,c,a,s,l,u,p,d,f,g,h,I;return{setters:[function(e){t=e.cclegacy,n=e._decorator,o=e.Node,r=e.find,i=e.Toggle,c=e.Component},function(e){a=e.eventTarget},function(e){s=e.apiInlaidEikon,l=e.apiGetEikonsOnTable},function(e){u=e.applyDecoratedDescriptor,p=e.inheritsLoose,d=e.initializerDefineProperty,f=e.assertThisInitialized,g=e.asyncToGenerator},function(e){h=e.RootControl},function(e){I=e.TableItem}],execute:function(){var v,S,m,b,T;t._RF.push({},"7ec13M1cuxMy6o94vqYOwOG","Tables",void 0);var y=n.ccclass,C=n.property;e("Tables",(v=y("Tables"),S=C(o),v((T=u((b=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,d(t,"toggleUseBtn",T,f(t)),t.currentSelectedIcon=null,t.isSelectStatus=!1,t.sceneId="",t}p(t,e);var n=t.prototype;return n.start=function(){var e=this;this.sceneId=r("MainCanvas").getComponent(h).sceneInfo.id,this.getTableIcons(),a.on("isSelectStatus",(function(t){e.node.children.forEach((function(e){e.getChildByName("light").active=t})),e.isSelectStatus=t})),a.on("selectIcon",(function(t){e.currentSelectedIcon=t}),this),this.node.children.forEach((function(t,n){t.on(o.EventType.MOUSE_DOWN,(function(t){t.propagationStopped=!0,e.isSelectStatus&&(console.log(e.currentSelectedIcon,n),s({Location:n,UserSceneId:e.sceneId,UserItemId:e.currentSelectedIcon.id}).then((function(t){e.getTableIcons(),e.toggleUseBtn.getComponent(i).isChecked=!1,a.emit("isSelectStatus",!1),a.emit("selectIcon",null),r("MainCanvas").getComponent(h).getBackpack()})))}))}))},n.getTableIcons=function(){var e=g(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l(this.sceneId).then((function(e){e.forEach((function(e){var n={id:e.id,order:e.extraProperties.location,img:e.icon,extraProperties:e.extraProperties};t.node.children[e.extraProperties.location].getComponent(I).tableInfo=n}))}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t}(c)).prototype,"toggleUseBtn",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=b))||m));t._RF.pop()}}}));

System.register("chunks:///_virtual/ToolBoxControl.ts",["cc","./utils.ts","./rollupPluginModLoBabelHelpers.js","./NftItem.ts"],(function(t){"use strict";var e,n,o,i,r,l,a,s,c,u,f,g,p,m,b,C,h,d;return{setters:[function(t){e=t.cclegacy,n=t._decorator,o=t.Prefab,i=t.Node,r=t.instantiate,l=t.Toggle,a=t.resources,s=t.SpriteFrame,c=t.Sprite,u=t.Button,f=t.Label,g=t.Component},function(t){p=t.eventTarget},function(t){m=t.applyDecoratedDescriptor,b=t.inheritsLoose,C=t.initializerDefineProperty,h=t.assertThisInitialized},function(t){d=t.NftItem}],execute:function(){var B,y,v,x,I,U,T,F,S;e._RF.push({},"01cba714tJGiqNtTqBKb7st","ToolBoxControl",void 0);var P=n.ccclass,z=n.property;t("ToolBoxControl",(B=P("ToolBoxControl"),y=z({type:o}),v=z(i),x=z(i),B((T=m((U=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o))||this,C(e,"nftItemPrfb",T,h(e)),C(e,"boxContent",F,h(e)),C(e,"toggleUseBtn",S,h(e)),e}b(e,t);var n=e.prototype;return n.init=function(t){var e=this;this.boxContent.destroyAllChildren(),t.forEach((function(t){var n=r(e.nftItemPrfb);n.getComponent(d).iconInfo=t,e.boxContent.addChild(n)}))},n.start=function(){var t=this;p.on("selectIcon",(function(e){e&&e.id&&0===e.status?(t.toggleUseBtn.getComponent(l).interactable=!0,a.load("images/UI/commonBtnBlue/spriteFrame",s,(function(e,n){t.toggleUseBtn.getComponent(c).spriteFrame=n}))):(t.toggleUseBtn.getComponent(l).interactable=!1,a.load("images/UI/commonBtnGray/spriteFrame",s,(function(e,n){t.toggleUseBtn.getComponent(c).spriteFrame=n})))}),this),p.on("isSelectStatus",(function(e){t.boxContent.children.forEach((function(t){t.getComponent(u).interactable=!e}))}),this)},n.toggleUse=function(t){this.toggleUseBtn.getChildByName("Label").getComponent(f).string=t.isChecked?"select table":"use",p.emit("isSelectStatus",t.isChecked)},e}(g)).prototype,"nftItemPrfb",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=m(U.prototype,"boxContent",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=m(U.prototype,"toggleUseBtn",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=U))||I));e._RF.pop()}}}));

System.register("chunks:///_virtual/ToolPray.ts",["cc","./rollupPluginModLoBabelHelpers.js"],(function(t){"use strict";var n,e,r,i,o,a,c,s,l,u,h;return{setters:[function(t){n=t.cclegacy,e=t._decorator,r=t.Label,i=t.EventHandler,o=t.find,a=t.Button,c=t.Component},function(t){s=t.applyDecoratedDescriptor,l=t.inheritsLoose,u=t.initializerDefineProperty,h=t.assertThisInitialized}],execute:function(){var p,d,y,v,g;n._RF.push({},"8d073NITKFCO5XMcEAHZGeR","ToolPray",void 0);var f=e.ccclass,E=e.property;t("ToolPray",(p=f("ToolPray"),d=E(r),p((g=s((v=function(t){function n(){for(var n,e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return n=t.call.apply(t,[this].concat(r))||this,u(n,"count",g,h(n)),n.prayArr=[],n.clickEventHandler=new i,n}l(n,t);var e=n.prototype;return e.onLoad=function(){this.clickEventHandler.target=o("MainCanvas/BackgroundCover/Pray"),this.clickEventHandler.component="Pray",this.clickEventHandler.handler="handlePray"},e.init=function(t){this.prayArr=t,this.clickEventHandler.customEventData=this.prayArr[0].id,this.node.getComponent(a).clickEvents.push(this.clickEventHandler),this.count.string=String(t.length)},e.use=function(){this.prayArr.shift(),this.node.getComponent(a).clickEvents=[],this.prayArr.length>0?(this.clickEventHandler.customEventData=this.prayArr[0].id,this.node.getComponent(a).clickEvents.push(this.clickEventHandler),this.count.string=String(this.prayArr.length)):this.node.destroy()},n}(c)).prototype,"count",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=v))||y));n._RF.pop()}}}));

System.register("chunks:///_virtual/ToolsControl.ts",["cc","./rollupPluginModLoBabelHelpers.js","./ToolPray.ts","./ToolSickle.ts"],(function(t){"use strict";var e,n,i,o,r,l,c,a,u,s,p,f,h;return{setters:[function(t){e=t.cclegacy,n=t._decorator,i=t.Node,o=t.Prefab,r=t.instantiate,l=t.Label,c=t.Component},function(t){a=t.applyDecoratedDescriptor,u=t.inheritsLoose,s=t.initializerDefineProperty,p=t.assertThisInitialized},function(t){f=t.ToolPray},function(t){h=t.ToolSickle}],execute:function(){var g,y,d,C,b,m,T,v,k,z,_;e._RF.push({},"233dcyJ5CNGS7wzQ/LchMUc","ToolsControl",void 0);var w=n.ccclass,P=n.property;t("ToolsControl",(g=w("ToolsControl"),y=P(i),d=P({type:o}),C=P({type:o}),b=P({type:o}),g((v=a((T=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i))||this,s(e,"content",v,p(e)),s(e,"ticketBtn",k,p(e)),s(e,"sickleToggle",z,p(e)),s(e,"prayTool",_,p(e)),e.ticketArr=[],e}u(e,t);var n=e.prototype;return n.init=function(t){var e=this;this.content.destroyAllChildren();var n=t.filter((function(t){return"item_002"===t.itemCode}));if(n.length>0){var i=r(this.prayTool);this.content.addChild(i),i.getComponent(f).init(n)}var o=t.filter((function(t){return"item_003"===t.itemCode&&-1!==t.status}));if(o.length>0){var c=r(this.ticketBtn);this.content.addChild(c),c.getChildByPath("pane-circle/count").getComponent(l).string=String(o.length),this.ticketArr=o}t.filter((function(t){return"item_001"===t.itemCode})).forEach((function(t){var n=r(e.sickleToggle);n.getComponent(h).init(t),e.content.addChild(n)}))},n.start=function(){},e}(c)).prototype,"content",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=a(T.prototype,"ticketBtn",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=a(T.prototype,"sickleToggle",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=a(T.prototype,"prayTool",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=T))||m));e._RF.pop()}}}));

System.register("chunks:///_virtual/ToolSickle.ts",["cc","./rollupPluginModLoBabelHelpers.js"],(function(t){"use strict";var i,e,r,n,o,a,l,u,s,c,d,p;return{setters:[function(t){i=t.cclegacy,e=t._decorator,r=t.Label,n=t.EventHandler,o=t.find,a=t.Toggle,l=t.Component},function(t){u=t.applyDecoratedDescriptor,s=t.inheritsLoose,c=t.initializerDefineProperty,d=t.assertThisInitialized,p=t.createClass}],execute:function(){var y,h,b,g,f;i._RF.push({},"811941NmpVMVINk3v1AmtuK","ToolSickle",void 0);var v=e.ccclass,k=e.property;t("ToolSickle",(y=v("ToolSickle"),h=k(r),y((f=u((g=function(t){function i(){for(var i,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return i=t.call.apply(t,[this].concat(r))||this,c(i,"durabilityLabel",f,d(i)),i._durability=0,i}s(i,t);var e=i.prototype;return e.init=function(t){var i=new n;i.target=o("MainCanvas/BackgroundCover/Cirrus"),i.component="Cirrus",i.handler="toggleCut",i.customEventData=t.id,this.node.getComponent(a).checkEvents.push(i),this.durability=t.extraProperties.Durability},e.use=function(){this.durability=this.durability-1,0===this.durability&&(this.node.getComponent(a).isChecked=!1,this.node.destroy())},p(i,[{key:"durability",get:function(){return this._durability},set:function(t){this._durability=t,this.durabilityLabel.string=(5*t).toString()+"%"}}]),i}(l)).prototype,"durabilityLabel",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=g))||b));i._RF.pop()}}}));

System.register("chunks:///_virtual/ToolSwitchBtns.ts",["cc","./utils.ts","./rollupPluginModLoBabelHelpers.js"],(function(t){"use strict";var e,o,n,i,r,a,l,c,s,p,h,u;return{setters:[function(t){e=t.cclegacy,o=t._decorator,n=t.Node,i=t.Button,r=t.Label,a=t.Color,l=t.Component},function(t){c=t.eventTarget},function(t){s=t.applyDecoratedDescriptor,p=t.inheritsLoose,h=t.initializerDefineProperty,u=t.assertThisInitialized}],execute:function(){var B,d,f,g,b,y,C;e._RF.push({},"6b401fA73lJ542jhC5ZMclZ","ToolSwitchBtns",void 0);var m=o.ccclass,v=o.property;t("ToolSwitchBtns",(B=m("ToolSwitchBtns"),d=v(n),f=v(n),B((y=s((b=function(t){function e(){for(var e,o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return e=t.call.apply(t,[this].concat(n))||this,h(e,"boxWrapper",y,u(e)),h(e,"toolWrapper",C,u(e)),e}p(e,t);var o=e.prototype;return o.start=function(){var t=this;c.on("isSelectStatus",(function(e){t.node.children.forEach((function(t){t.getComponent(i).interactable=!e}))}),this)},o.handleSwitchIcons=function(){this.boxWrapper.active=!0,this.toolWrapper.active=!1,this.node.getChildByName("SXBtn").getChildByName("Label").getComponent(r).color=new a("#EABC8B"),this.node.getChildByName("FaqiBtn").getChildByName("Label").getComponent(r).color=new a("#B7825A")},o.handleSwitchTools=function(){this.boxWrapper.active=!1,this.toolWrapper.active=!0,this.node.getChildByName("SXBtn").getChildByName("Label").getComponent(r).color=new a("#B7825A"),this.node.getChildByName("FaqiBtn").getChildByName("Label").getComponent(r).color=new a("#EABC8B")},e}(l)).prototype,"boxWrapper",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=s(b.prototype,"toolWrapper",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=b))||g));e._RF.pop()}}}));

System.register("chunks:///_virtual/utils.ts",["cc","./axios.min.js","./axios.min.mjs_cjs=&original=.js"],(function(e){"use strict";var t,n,i,r;return{setters:[function(e){t=e.cclegacy,n=e.EventTarget,i=e.sys},function(e){r=e.default},null],execute:function(){e({formatAddress:function(e){if(e)return e.substring(0,6)+"..."+e.substring(e.length-4)},openImgFile:function(){return new Promise((function(e,t){var n=document.getElementById("OpenImageFile");n.value=null,n.onchange=function(t){var i=t.target.files;if(i[0]){if(i[0].type.indexOf("image")<0)return alert("Only image files are allowed to be uploaded!"),void(n.value=null);if(i[0].size>2097152)return alert("File limit 2MB, please reselect"),void(n.value=null);e(i[0])}},n.click()}))},openVoiceFile:function(){return new Promise((function(e,t){var n=document.getElementById("OpenAudioFile");n.value=null,n.onchange=function(t){var i=t.target.files;if(console.log(i),i[0]){if(i[0].type.indexOf("audio")<0)return alert("Only audio files are allowed to be uploaded!"),void(n.value=null);if(i[0].size>10485760)return alert("File limit 10MB, please reselect"),void(n.value=null);e(i[0])}},n.click()}))}}),t._RF.push({},"d810fq7F3NBBKJPH4W8Yzln","utils",void 0);e("eventTarget",new n);var l=e("axios",r.create({baseURL:"http://194.163.43.151:9090",timeout:1e4,headers:{"Content-Type":"application/json"}}));l.interceptors.request.use((function(e){return i.localStorage.getItem("token")&&(e.headers.Authorization="Bearer "+i.localStorage.getItem("token")),e}),(function(e){return Promise.reject(e)})),l.interceptors.response.use((function(e){return 1===e.data.status?e.data.data:e.data}),(function(e){var t;return 401===(null==(t=e.response)?void 0:t.status)&&i.localStorage.removeItem("token"),Promise.reject(e.response.data)})),t._RF.pop()}}}));

System.register("chunks:///_virtual/VerifyCode.ts",["cc","./rollupPluginModLoBabelHelpers.js"],(function(t){"use strict";var i,o,h,s,r,a,e,H,n,T,I;return{setters:[function(t){i=t.cclegacy,o=t._decorator,h=t.Node,s=t.color,r=t.Graphics,a=t.Label,e=t.Component},function(t){H=t.applyDecoratedDescriptor,n=t.inheritsLoose,T=t.initializerDefineProperty,I=t.assertThisInitialized}],execute:function(){var c,d,l,m,E;t("CurveStyle",void 0),i._RF.push({},"33e37GUHHlCQI2vJBsyjZ4p","VerifyCode",void 0),function(t){t.STYLE1="style1",t.STYLE2="style2",t.STYLE3="style3"}(E||(E=t("CurveStyle",{})));var M=o.ccclass,G=o.property;t("default",M("VerifyCode")((l=H((d=function(t){function i(){for(var i,o=arguments.length,h=new Array(o),s=0;s<o;s++)h[s]=arguments[s];return i=t.call.apply(t,[this].concat(h))||this,T(i,"WIDTH",l,I(i)),T(i,"HEIGHT",m,I(i)),i.code="",i.ctx=null,i}n(i,t);var o=i.prototype;return o.onLoad=function(){this.getComponent(i).WIDTH=this.WIDTH,this.getComponent(i).HEIGHT=this.HEIGHT,this.draw()},o.onEnable=function(){this.node.on(h.EventType.TOUCH_START,this.draw,this)},o.onDisable=function(){this.node.off(h.EventType.TOUCH_START,this.draw,this)},o.start=function(){},o.getColor=function(){var t=Math.floor(255*Math.random()),i=Math.floor(255*Math.random()),o=Math.floor(255*Math.random()),h=Math.floor(255*Math.random());return s(t,i,o,h)},o.getLineColor=function(){var t=Math.floor(40*Math.random()+20),i=Math.floor(40*Math.random()+20),o=Math.floor(40*Math.random()+20),h=Math.floor(20*Math.random()+60);return s(t,i,o,h)},o.draw=function(){this.ctx=this.getComponent(r),this.ctx.clear(),this.ctx.rect(-this.WIDTH/2,-this.HEIGHT/2,this.WIDTH,this.HEIGHT),this.ctx.fillColor=s(242,242,242),this.ctx.fill(),this.code="";for(var t=["0","1","2","3","4","5","6","7","8","9"],i=0;i<4;i++){var o=t[Math.floor(Math.random()*t.length)],h=this.node.getChildByName("Node"+i);h.getComponent(a).color=this.getColor(),h.getComponent(a).string=o,h.getComponent(a).markForUpdateRenderData(),h.angle=60*Math.random(),this.code=this.code+o}this.drawCurveByStyle(E.STYLE1),this.drawNoisePoint()},o.clear=function(){this.code="",this.node.removeAllChildren()},o.getCode=function(){return this.code},o.checkCode=function(t,i){""!=t?t==this.code?i&&i({flag:!0,tips:"Validation success"}):i&&i({flag:!1,tips:"Incorrect validation code"}):i&&i({flag:!1,tips:"Please enter the validation code"})},o.drawCurveByStyle=function(t){if(t==E.STYLE1)this.ctx.strokeColor=this.getLineColor(),this.ctx.moveTo(-this.WIDTH/2,Math.random()*this.HEIGHT-this.HEIGHT/2),this.ctx.quadraticCurveTo(Math.random()*this.WIDTH/2-this.WIDTH/2,Math.random()*this.HEIGHT/2-this.HEIGHT/2,this.WIDTH/2,this.HEIGHT*Math.random()-this.HEIGHT/2),this.ctx.stroke(),this.ctx.moveTo(-this.WIDTH/2,Math.random()*this.HEIGHT-this.HEIGHT/2),this.ctx.quadraticCurveTo(Math.random()*this.WIDTH/2-this.WIDTH/2,Math.random()*this.HEIGHT/2-this.HEIGHT/2,this.WIDTH/2,this.HEIGHT*Math.random()-this.HEIGHT/2),this.ctx.stroke(),this.ctx.moveTo(-this.WIDTH/2,Math.random()*this.HEIGHT-this.HEIGHT/2),this.ctx.quadraticCurveTo(Math.random()*this.WIDTH/2-this.WIDTH/2,Math.random()*this.HEIGHT/2-this.HEIGHT/2,this.WIDTH/2,this.HEIGHT*Math.random()-this.HEIGHT/2),this.ctx.stroke(),this.ctx.moveTo(-this.WIDTH/2,Math.random()*this.HEIGHT-this.HEIGHT/2),this.ctx.quadraticCurveTo(Math.random()*this.WIDTH/2-this.WIDTH/2,Math.random()*this.HEIGHT/2-this.HEIGHT/2,this.WIDTH/2,this.HEIGHT*Math.random()-this.HEIGHT/2),this.ctx.stroke();else if(t==E.STYLE2)this.ctx.strokeColor=this.getColor(),this.ctx.moveTo(-this.WIDTH/2,Math.random()*this.HEIGHT/2-this.HEIGHT/2),this.ctx.bezierCurveTo(Math.random()*this.WIDTH/2-this.WIDTH/2,Math.random()*this.HEIGHT/2-this.HEIGHT/2,Math.random()*this.WIDTH/2,Math.random()*this.HEIGHT/2,this.WIDTH/2,this.HEIGHT*Math.random()-this.HEIGHT/2),this.ctx.stroke(),this.ctx.moveTo(-this.WIDTH/2,Math.random()*this.HEIGHT/2-this.HEIGHT/2),this.ctx.bezierCurveTo(Math.random()*this.WIDTH/2-this.WIDTH/2,Math.random()*this.HEIGHT/2-this.HEIGHT/2,Math.random()*this.WIDTH/2,Math.random()*this.HEIGHT/2,this.WIDTH/2,this.HEIGHT*Math.random()-this.HEIGHT/2),this.ctx.stroke(),this.ctx.moveTo(-this.WIDTH/2,Math.random()*this.HEIGHT/2-this.HEIGHT/2),this.ctx.bezierCurveTo(Math.random()*this.WIDTH/2-this.WIDTH/2,Math.random()*this.HEIGHT/2-this.HEIGHT/2,Math.random()*this.WIDTH/2,Math.random()*this.HEIGHT/2,this.WIDTH/2,this.HEIGHT*Math.random()-this.HEIGHT/2),this.ctx.stroke(),this.ctx.moveTo(-this.WIDTH/2,Math.random()*this.HEIGHT/2-this.HEIGHT/2),this.ctx.bezierCurveTo(Math.random()*this.WIDTH/2-this.WIDTH/2,Math.random()*this.HEIGHT/2-this.HEIGHT/2,Math.random()*this.WIDTH/2,Math.random()*this.HEIGHT/2,this.WIDTH/2,this.HEIGHT*Math.random()-this.HEIGHT/2),this.ctx.stroke();else for(var i=0;i<8;i++)this.ctx.strokeColor=this.getColor(),this.ctx.moveTo(0,Math.random()*this.HEIGHT),this.ctx.lineTo(Math.random()*this.WIDTH,Math.random()*this.HEIGHT),this.ctx.strokeColor=this.getColor(),this.ctx.stroke()},o.drawNoisePoint=function(){for(var t=0;t<30;t++){var i=Math.random()*this.WIDTH-this.WIDTH/2,o=Math.random()*this.HEIGHT-this.HEIGHT/2;this.ctx.strokeColor=this.getColor(),this.ctx.moveTo(i,o),this.ctx.lineTo(i+2,o+2),this.ctx.stroke()}},o.refreshCode=function(){this.draw()},i}(e)).prototype,"WIDTH",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),m=H(d.prototype,"HEIGHT",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),c=d))||c);i._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});